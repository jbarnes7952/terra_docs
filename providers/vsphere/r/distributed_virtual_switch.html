<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Provides a vSphere distributed virtual switch resource. This can be used to create and manage DVS resources in vCenter.">

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon-13180a24.png">
    <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-32x32-62171ffd.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-16x16-2821bcc8.png" sizes="16x16">
    <link rel="manifest" href="/android-manifest.json">
    <link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab-bab846e1.svg" color="#5C4EE5">
    <meta name="msapplication-config" content="/microsoft-tile.xml" />
    <meta name="theme-color" content="#ffffff">

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@HashiCorp" />
    <meta name="twitter:creator" content="@HashiCorp" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.terraform.io/docs/providers/vsphere/r/distributed_virtual_switch.html" />
    <meta property="og:title" content="VMware vSphere: vsphere_distributed_virtual_switch - Terraform by HashiCorp" />
    <meta property="og:site_name" content="Terraform by HashiCorp"/>
    <meta property="og:image" content="https://www.terraform.io/assets/images/og-image-f5bbc98c.png"/>
    <meta property="og:image:width" content="100"/>
    <meta property="og:image:height" content="100"/>
    <meta property="og:description" content="Provides a vSphere distributed virtual switch resource. This can be used to create and manage DVS resources in vCenter." />

    <title>VMware vSphere: vsphere_distributed_virtual_switch - Terraform by HashiCorp</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://use.typekit.net/wxf7mfi.css">
    <link href="/assets/stylesheets/application-825d2399.css" rel="stylesheet" />

    <!-- Site scripts -->
    <!--[if lt IE 9]><script src="/assets/javascripts/ie-compat-c141a02d.js" defer="defer"></script><![endif]-->
    <script src="/assets/javascripts/application-e080fe63.js" defer="defer"></script>

    <!-- Analytics scrpts -->
    <script defer>
      !function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),e.push(a),e}};for(var t=0;t<e.methods.length;t++){var a=e.methods[t];e[a]=e.factory(a)}e.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)},e.SNIPPET_VERSION="4.0.0",e.load("0EXTgkNx0Ydje2PGXVbRhpKKoe5wtzcE")}}();var om597a24292a958,om597a24292a958_poll=function(){var e=0;return function(t,a){clearInterval(e),e=setInterval(t,a)}}();!function(e,t,a){if(e.getElementById(a))om597a24292a958_poll(function(){if(window.om_loaded&&!om597a24292a958)return(om597a24292a958=new OptinMonsterApp).init({s:"35109.597a24292a958",staging:0,dev:0,beta:0})},25);else{var n=!1,o=e.createElement("script");o.id=a,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=!0,o.onload=o.onreadystatechange=function(){if(!(n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState))try{n=om_loaded=!0,(om597a24292a958=new OptinMonsterApp).init({s:"35109.597a24292a958",staging:0,dev:0,beta:0}),o.onload=o.onreadystatechange=null}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}}(document,0,"omapi-script");
    </script>

    
  </head>

  <body id="page-docs-vsphere-resource-networking-distributed-virtual-switch" class="layout-vsphere page-vmware-vsphere-vsphere-distributed-virtual-switch">

    <svg class="hidden-print" aria-hidden="true" style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <symbol id="mega-nav-icon-angle" viewBox="0 0 13 7">
      <polygon points="6.5,6.5 0.7,1.6 1.3,0.8 6.5,5.2 11.7,0.8 12.3,1.6 "/>
    </symbol>
    <symbol id="mega-nav-icon-close" viewBox="0 0 13 15">
      <path vector-effect="non-scaling-stroke" d="M1.1 14L11.9 1M11.9 14L1.1 1"/>
    </symbol>
  </defs>
</svg>
<div class="hidden-print mega-nav-sandbox">
  <div class="mega-nav-banner">
    <div class="container">
      <div class="mega-nav-banner-item">
        <a class="mega-nav-banner-logo" href="https://www.hashicorp.com"><img src="/assets/images/mega-nav/logo-hashicorp-wordmark-bbed0e8a.svg" alt="HashiCorp Logo" /></a>
      </div>
      <div class="mega-nav-banner-item">
        <p class="mega-nav-tagline"><span class="visible-xs text-muted">Learn the</span><span class="hidden-xs text-muted">Learn how Terraform fits into the</span></p>
        <div id="#mega-nav" class="mega-nav">
          <button type="button" id="mega-nav-ctrl" class="mega-nav-ctrl">
            <div class="mega-nav-ctrl-items">
              <img src="/assets/images/mega-nav/logo-hashicorp-a66fda95.svg" alt="HashiCorp Logo" />
              <strong>HashiCorp Suite</strong>
              <span class="mega-nav-icon-outline">
                <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg><span class="visuallyhidden">Open</span>
              </span>
            </div>
          </button>
          <div id="mega-nav-body-ct" class="mega-nav-body-ct" aria-labelledby="mega-nav-ctrl">
            <div class="mega-nav-body">
              <button type="button" id="mega-nav-close" class="mega-nav-close"><svg class="mega-nav-icon mega-nav-icon-close" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-close"></use></svg><span class="visuallyhidden">Close</span></button>
              <div class="mega-nav-body-header">
                <div class="mega-nav-body-header-item">
                  <h2 class="mega-nav-h1">Provision, Secure, Connect, and&nbsp;Run</h2>
                  <p class="mega-nav-h2">Any infrastructure for any&nbsp;application</p>
                </div>
                <div class="mega-nav-body-header-item">
                  <a href="https://www.hashicorp.com/" class="mega-nav-btn"><img src="/assets/images/mega-nav/logo-hashicorp-a66fda95.svg" alt="HashiCorp Logo" /> Learn the HashiCorp Enterprise&nbsp;Suite <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg></a>
                </div>
              </div>
              <div class="mega-nav-body-grid">
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Provision</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.vagrantup.com" class="mega-nav-grid-item mega-nav-grid-item-vagrant">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-vagrant-a7ab5898.svg" alt="Vagrant Logo" />
                        </div>
                        <b>Vagrant</b>
                        <ul>
                          <li><span class="mega-nav-tag">Build</span></li>
                          <li><span class="mega-nav-tag">Test</span></li>
                        </ul>
                      </a>
                    </li>
                    <li>
                      <a href="https://www.packer.io" class="mega-nav-grid-item mega-nav-grid-item-packer">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-packer-cb3b9b94.svg" alt="Packer Logo" />
                        </div>
                        <b>Packer</b>
                        <ul>
                          <li><span class="mega-nav-tag">Package</span></li>
                        </ul>
                      </a>
                    </li>
                    <li>
                      <a href="https://www.terraform.io" class="mega-nav-grid-item mega-nav-grid-item-terraform">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-terraform-ff69eaae.svg" alt="Terraform Logo" />
                        </div>
                        <b>Terraform</b>
                        <ul>
                          <li><span class="mega-nav-tag">Provision</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Secure</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.vaultproject.io" class="mega-nav-grid-item mega-nav-grid-item-vault">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-vault-0f83e3d2.svg" alt="Vault Logo" />
                        </div>
                        <b>Vault</b>
                        <ul>
                          <li><span class="mega-nav-tag">Secure</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Connect</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.consul.io" class="mega-nav-grid-item mega-nav-grid-item-consul">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-consul-c77f6844.svg" alt="Consul Logo" />
                        </div>
                        <b>Consul</b>
                        <ul>
                          <li><span class="mega-nav-tag">Connect</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Run</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.nomadproject.io" class="mega-nav-grid-item mega-nav-grid-item-nomad">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-nomad-c4c148be.svg" alt="Nomad Logo" />
                        </div>
                        <b>Nomad</b>
                        <ul>
                          <li><span class="mega-nav-tag">Run</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="mega-nav-body-footer">
                <p>Seven elements of the modern Application Lifecycle</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


    <div id="header" class="navigation navbar-static-top hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <div class="navbar-header">
              <div class="navbar-brand">
                <a href="/">
                  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 251 61" class="logo" height="50">
  <path class="text" fill="#000" fill-rule="nonzero" d="M81.78 19.54h-8.89v-5.31H96.7v5.31h-8.9v26.53h-6"></path>
  <path class="text" fill="#000" fill-rule="nonzero" d="M102.19 41.77c2.415-.012 4.814-.383 7.12-1.1l.91 4.4c-2.745.99-5.642 1.49-8.56 1.48-7.31 0-9.85-3.39-9.85-9V31.4c0-4.92 2.2-9.08 9.66-9.08s9.13 4.35 9.13 9.37v5h-13v1.2c.05 2.78 1.05 3.88 4.59 3.88zM97.65 32h7.41v-1.18c0-2.2-.67-3.73-3.54-3.73s-3.87 1.53-3.87 3.73V32zm28.54-4.33c-2.148.97-4.217 2.102-6.19 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.6 5.36zm14.24 0c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.58 5.36zm19.51 18.4h-4.78l-.43-1.58c-2.062 1.342-4.47 2.058-6.93 2.06-4.25 0-6.07-2.92-6.07-6.93 0-4.73 2.06-6.55 6.79-6.55h5.59v-2.44c0-2.58-.72-3.49-4.45-3.49-2.17.024-4.33.266-6.45.72l-.72-4.45c2.606-.72 5.296-1.09 8-1.1 7.31 0 9.47 2.58 9.47 8.41l-.02 15.35zm-5.83-8.8h-4.3c-1.91 0-2.44.53-2.44 2.29s.53 2.34 2.34 2.34c1.544-.024 3.058-.436 4.4-1.2v-3.43zm23.75-19.79c-1.1-.237-2.224-.364-3.35-.38-2.29 0-2.63 1-2.63 2.77v2.92h5.93l-.33 4.64h-5.59v18.64h-5.83V27.43h-3.73v-4.64h3.73v-3.25c0-4.83 2.25-7.22 7.41-7.22 1.69-.006 3.372.22 5 .67l-.61 4.49zm11.38 29.07c-8 0-10.13-4.4-10.13-9.18v-5.88c0-4.78 2.15-9.18 10.13-9.18s10.13 4.4 10.13 9.18v5.88c.01 4.78-2.15 9.18-10.13 9.18zm0-19.27c-3.11 0-4.3 1.39-4.3 4v6.26c0 2.63 1.2 4 4.3 4 3.1 0 4.3-1.39 4.3-4V31.3c0-2.63-1.19-4.02-4.3-4.02zm25.14.39c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.954-2.313 6.12-3.06l.58 5.36zm16.02 18.4V29.82c0-1.24-.53-1.86-1.86-1.86-2.137.254-4.2.934-6.07 2v16.11h-5.83V22.79h4.45l.57 2c2.906-1.47 6.088-2.315 9.34-2.48 1.843-.174 3.6.82 4.4 2.49 2.91-1.49 6.104-2.34 9.37-2.49 3.87 0 5.26 2.72 5.26 6.88v16.88h-5.83V29.82c0-1.24-.53-1.86-1.86-1.86-2.14.236-4.208.917-6.07 2v16.11h-5.87z"></path>
  <path class="rect-dark" fill="#4040B2" d="M36.4 39.13l16.4-9.46V10.72L36.4 20.2"></path>
  <path class="rect-light" fill="#5C4EE5" d="M18.2 10.72l16.4 9.48v18.93l-16.4-9.47"></path>
  <path class="rect-light" fill="#5C4EE5" d="M0 19.09l16.4 9.47V9.62L0 .15m18.2 50.53l16.4 9.47V41.21l-16.4-9.47"></path>
</svg>

                </a>
              </div>
              <button class="navbar-toggle" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="buttons hidden-xs">
              <nav class="navigation-links" role="navigation">
                <ul class="main-links nav navbar-nav navbar-right">
                  <li><a href="/intro/index.html">Intro</a></li>
                  <li><a href="/docs/index.html">Docs</a></li>
                  <li><a href="/guides/index.html">Guides</a></li>
                  <li><a href="/docs/extend/index.html">Extend</a></li>
                  <li><a href="https://www.hashicorp.com/products/terraform/?utm_source=oss&utm_medium=header-nav&utm_campaign=terraform">Enterprise</a></li>
                  <li>
                    <a href="/downloads.html">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h28V0zM13.8 22.9L7 17.3l2-2.4 3.2 2.6V7h3.2v10.5l3.2-2.6 2 2.4L13.8 22.9z"></path>
</svg>
 Download
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/hashicorp/terraform">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h11.4c0 0 0-1.3 0-2.4C7.7 26.4 7 23.9 7 23.9 6.4 22.4 5.5 22 5.5 22c-1.2-0.8 0.1-0.8 0.1-0.8 1.3 0.1 2 1.4 2 1.4 1.2 2 3 1.4 3.8 1.1 0.1-0.8 0.5-1.4 0.9-1.8 -2.9-0.3-6-1.5-6-6.5 0-1.4 0.5-2.6 1.3-3.5C7.5 11.5 7 10.2 7.8 8.4c0 0 1.1-0.4 3.6 1.3 1-0.3 2.2-0.4 3.3-0.4 1.1 0 2.2 0.2 3.3 0.4 2.5-1.7 3.6-1.3 3.6-1.3 0.7 1.8 0.3 3.1 0.1 3.5 0.8 0.9 1.3 2.1 1.3 3.5 0 5-3.1 6.1-6 6.5 0.5 0.4 0.9 1.2 0.9 2.4 0 1.8 0 3.7 0 3.7H28V0z"></path>
</svg>
 GitHub
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-overlay"></div>

<aside class="sidebar" role="navigation">
  <div class="sidebar-header">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 251 61" class="logo" height="42">
  <path class="text" fill="#000" fill-rule="nonzero" d="M81.78 19.54h-8.89v-5.31H96.7v5.31h-8.9v26.53h-6"></path>
  <path class="text" fill="#000" fill-rule="nonzero" d="M102.19 41.77c2.415-.012 4.814-.383 7.12-1.1l.91 4.4c-2.745.99-5.642 1.49-8.56 1.48-7.31 0-9.85-3.39-9.85-9V31.4c0-4.92 2.2-9.08 9.66-9.08s9.13 4.35 9.13 9.37v5h-13v1.2c.05 2.78 1.05 3.88 4.59 3.88zM97.65 32h7.41v-1.18c0-2.2-.67-3.73-3.54-3.73s-3.87 1.53-3.87 3.73V32zm28.54-4.33c-2.148.97-4.217 2.102-6.19 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.6 5.36zm14.24 0c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.58 5.36zm19.51 18.4h-4.78l-.43-1.58c-2.062 1.342-4.47 2.058-6.93 2.06-4.25 0-6.07-2.92-6.07-6.93 0-4.73 2.06-6.55 6.79-6.55h5.59v-2.44c0-2.58-.72-3.49-4.45-3.49-2.17.024-4.33.266-6.45.72l-.72-4.45c2.606-.72 5.296-1.09 8-1.1 7.31 0 9.47 2.58 9.47 8.41l-.02 15.35zm-5.83-8.8h-4.3c-1.91 0-2.44.53-2.44 2.29s.53 2.34 2.34 2.34c1.544-.024 3.058-.436 4.4-1.2v-3.43zm23.75-19.79c-1.1-.237-2.224-.364-3.35-.38-2.29 0-2.63 1-2.63 2.77v2.92h5.93l-.33 4.64h-5.59v18.64h-5.83V27.43h-3.73v-4.64h3.73v-3.25c0-4.83 2.25-7.22 7.41-7.22 1.69-.006 3.372.22 5 .67l-.61 4.49zm11.38 29.07c-8 0-10.13-4.4-10.13-9.18v-5.88c0-4.78 2.15-9.18 10.13-9.18s10.13 4.4 10.13 9.18v5.88c.01 4.78-2.15 9.18-10.13 9.18zm0-19.27c-3.11 0-4.3 1.39-4.3 4v6.26c0 2.63 1.2 4 4.3 4 3.1 0 4.3-1.39 4.3-4V31.3c0-2.63-1.19-4.02-4.3-4.02zm25.14.39c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.954-2.313 6.12-3.06l.58 5.36zm16.02 18.4V29.82c0-1.24-.53-1.86-1.86-1.86-2.137.254-4.2.934-6.07 2v16.11h-5.83V22.79h4.45l.57 2c2.906-1.47 6.088-2.315 9.34-2.48 1.843-.174 3.6.82 4.4 2.49 2.91-1.49 6.104-2.34 9.37-2.49 3.87 0 5.26 2.72 5.26 6.88v16.88h-5.83V29.82c0-1.24-.53-1.86-1.86-1.86-2.14.236-4.208.917-6.07 2v16.11h-5.87z"></path>
  <path class="rect-dark" fill="#4040B2" d="M36.4 39.13l16.4-9.46V10.72L36.4 20.2"></path>
  <path class="rect-light" fill="#5C4EE5" d="M18.2 10.72l16.4 9.48v18.93l-16.4-9.47"></path>
  <path class="rect-light" fill="#5C4EE5" d="M0 19.09l16.4 9.47V9.62L0 .15m18.2 50.53l16.4 9.47V41.21l-16.4-9.47"></path>
</svg>

  </div>

  <ul class="nav sidebar-nav">
    <li><a href="/intro/index.html">Intro</a></li>
    <li><a href="/docs/index.html">Docs</a></li>
    <li><a href="/guides/index.html">Guides</a></li>
    <li><a href="/docs/extend/index.html">Extend</a></li>
    <li><a href="https://www.hashicorp.com/products/terraform/?utm_source=oss&utm_medium=header-nav&utm_campaign=terraform">Enterprise</a></li>
  </ul>

  <div class="divider"></div>

  <ul class="external nav sidebar-nav">
    <li>
      <a href="/downloads.html">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h28V0zM13.8 22.9L7 17.3l2-2.4 3.2 2.6V7h3.2v10.5l3.2-2.6 2 2.4L13.8 22.9z"></path>
</svg>
 Download
      </a>
    </li>
    <li>
      <a href="https://github.com/hashicorp/terraform">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h11.4c0 0 0-1.3 0-2.4C7.7 26.4 7 23.9 7 23.9 6.4 22.4 5.5 22 5.5 22c-1.2-0.8 0.1-0.8 0.1-0.8 1.3 0.1 2 1.4 2 1.4 1.2 2 3 1.4 3.8 1.1 0.1-0.8 0.5-1.4 0.9-1.8 -2.9-0.3-6-1.5-6-6.5 0-1.4 0.5-2.6 1.3-3.5C7.5 11.5 7 10.2 7.8 8.4c0 0 1.1-0.4 3.6 1.3 1-0.3 2.2-0.4 3.3-0.4 1.1 0 2.2 0.2 3.3 0.4 2.5-1.7 3.6-1.3 3.6-1.3 0.7 1.8 0.3 3.1 0.1 3.5 0.8 0.9 1.3 2.1 1.3 3.5 0 5-3.1 6.1-6 6.5 0.5 0.4 0.9 1.2 0.9 2.4 0 1.8 0 3.7 0 3.7H28V0z"></path>
</svg>
 GitHub
      </a>
    </li>
  </ul>
</aside>


    <div class="container">
  <div class="row">
    <div id="docs-sidebar" class="col-sm-4 col-md-3 col-xs-12 hidden-print" role="complementary">
          <div class="docs-sidebar hidden-print affix-top" role="complementary">
      <ul class="nav docs-sidenav">
        <li>
          <a href="/docs/providers/index.html">All Providers</a>
        </li>

        <li>
          <a href="/docs/providers/vsphere/index.html">VMware vSphere Provider</a>
        </li>

        <li>
          <a href="#">Data Sources</a>
          <ul class="nav nav-visible">
            <li>
              <a href="/docs/providers/vsphere/d/compute_cluster.html">vsphere_compute_cluster</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/custom_attribute.html">vsphere_custom_attribute</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/datacenter.html">vsphere_datacenter</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/datastore.html">vsphere_datastore</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/datastore_cluster.html">vsphere_datastore_cluster</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/distributed_virtual_switch.html">vsphere_distributed_virtual_switch</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/host.html">vsphere_host</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/network.html">vsphere_network</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/resource_pool.html">vsphere_resource_pool</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/tag.html">vsphere_tag</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/tag_category.html">vsphere_tag_category</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/virtual_machine.html">vsphere_virtual_machine</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/d/vmfs_disks.html">vsphere_vmfs_disks</a>
            </li>
          </ul>
        </li>

        <li>
          <a href="#">Administration Resources</a>
          <ul class="nav nav-visible">
            <li>
              <a href="/docs/providers/vsphere/r/license.html">vsphere_license</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#">Host and Cluster Management Resources</a>
          <ul class="nav nav-visible">
            <li>
              <a href="/docs/providers/vsphere/r/compute_cluster.html">vsphere_compute_cluster</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/compute_cluster_host_group.html">vsphere_compute_cluster_host_group</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/compute_cluster_vm_affinity_rule.html">vsphere_compute_cluster_vm_affinity_rule</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/compute_cluster_vm_anti_affinity_rule.html">vsphere_compute_cluster_vm_anti_affinity_rule</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/compute_cluster_vm_dependency_rule.html">vsphere_compute_cluster_vm_dependency_rule</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/compute_cluster_vm_group.html">vsphere_compute_cluster_vm_group</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/compute_cluster_vm_host_rule.html">vsphere_compute_cluster_vm_host_rule</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/drs_vm_override.html">vsphere_drs_vm_override</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/dpm_host_override.html">vsphere_dpm_host_override</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/ha_vm_override.html">vsphere_ha_vm_override</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/resource_pool.html">vsphere_resource_pool</a>
            </li>
          </ul>
        </li>

        <li>
          <a href="#">Inventory Resources</a>
          <ul class="nav nav-visible">
            <li>
              <a href="/docs/providers/vsphere/r/custom_attribute.html">vsphere_custom_attribute</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/datacenter.html">vsphere_datacenter</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/folder.html">vsphere_folder</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/tag.html">vsphere_tag</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/tag_category.html">vsphere_tag_category</a>
            </li>
          </ul>
        </li>

        <li class="active">
          <a href="#">Networking Resources</a>
          <ul class="nav nav-visible">
            <li>
              <a href="/docs/providers/vsphere/r/distributed_port_group.html">vsphere_distributed_port_group</a>
            </li>
            <li class="active">
              <a href="/docs/providers/vsphere/r/distributed_virtual_switch.html">vsphere_distributed_virtual_switch</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/host_port_group.html">vsphere_host_port_group</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/host_virtual_switch.html">vsphere_host_virtual_switch</a>
            </li>
          </ul>
        </li>

        <li>
          <a href="#">Storage Resources</a>
          <ul class="nav nav-visible">
            <li>
              <a href="/docs/providers/vsphere/r/datastore_cluster.html">vsphere_datastore_cluster</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/datastore_cluster_vm_anti_affinity_rule.html">vsphere_datastore_cluster_vm_anti_affinity_rule</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/file.html">vsphere_file</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/nas_datastore.html">vsphere_nas_datastore</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/storage_drs_vm_override.html">vsphere_storage_drs_vm_override</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/vmfs_datastore.html">vsphere_vmfs_datastore</a>
            </li>
          </ul>
        </li>

        <li>
          <a href="#">Virtual Machine Resources</a>
          <ul class="nav nav-visible">
            <li>
              <a href="/docs/providers/vsphere/r/virtual_disk.html">vsphere_virtual_disk</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/virtual_machine.html">vsphere_virtual_machine</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/virtual_machine_snapshot.html">vsphere_virtual_machine_snapshot</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/vapp_container.html">vsphere_vapp_container</a>
            </li>
            <li>
              <a href="/docs/providers/vsphere/r/vapp_entity.html">vsphere_vapp_entity</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>

    </div>

    <div id="inner" class="col-sm-8 col-md-9 col-xs-12" role="main">
        <h1 id="vsphere_distributed_virtual_switch">
  <a name="vsphere_distributed_virtual_switch" class="anchor" href="#vsphere_distributed_virtual_switch">&raquo;</a>
  vsphere_distributed_virtual_switch
</h1>
<p>The <code>vsphere_distributed_virtual_switch</code> resource can be used to manage VMware
Distributed Virtual Switches.</p>
<p>An essential component of a distributed, scalable VMware datacenter, the
vSphere Distributed Virtual Switch (DVS) provides centralized management and
monitoring of the networking configuration of all the hosts that are associated
with the switch. In addition to adding port groups (see the
<a href="/docs/providers/vsphere/r/distributed_port_group.html"><code>vsphere_distributed_port_group</code></a> resource) that can
be used as networks for virtual machines, a DVS can be configured to perform
advanced high availability, traffic shaping, network monitoring, and more.</p>
<p>For an overview on vSphere networking concepts, see <a href="https://docs.vmware.com/en/VMware-vSphere/6.5/com.vmware.vsphere.networking.doc/GUID-2B11DBB8-CB3C-4AFF-8885-EFEA0FC562F4.html">this
page</a>. For more information on vSphere DVS, see <a href="https://docs.vmware.com/en/VMware-vSphere/6.5/com.vmware.vsphere.networking.doc/GUID-375B45C7-684C-4C51-BA3C-70E48DFABF04.html">this
page</a>.</p>
<div class="alert alert-warning" role="alert">
<p><strong>NOTE:</strong> This resource requires vCenter and is not available on direct ESXi
connections.</p>
</div>
<h2 id="example-usage">
  <a name="example-usage" class="anchor" href="#example-usage">&raquo;</a>
  Example Usage
</h2>
<p>The following example below demonstrates a &quot;standard&quot; example of configuring a
vSphere DVS in a 3-node vSphere datacenter named <code>dc1</code>, across 4 NICs with two
being used as active, and two being used as passive. Note that the NIC failover
order propagates to any port groups configured on this DVS and can be overridden
there.</p>
<div class="highlight"><pre class="highlight hcl"><code><span class="n">variable</span> <span class="s2">"esxi_hosts"</span> <span class="p">{</span>
  <span class="n">default</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"esxi1"</span><span class="p">,</span>
    <span class="s2">"esxi2"</span><span class="p">,</span>
    <span class="s2">"esxi3"</span><span class="p">,</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="n">variable</span> <span class="s2">"network_interfaces"</span> <span class="p">{</span>
  <span class="n">default</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"vmnic0"</span><span class="p">,</span>
    <span class="s2">"vmnic1"</span><span class="p">,</span>
    <span class="s2">"vmnic2"</span><span class="p">,</span>
    <span class="s2">"vmnic3"</span><span class="p">,</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="n">data</span> <span class="s2">"vsphere_datacenter"</span> <span class="s2">"dc"</span> <span class="p">{</span>
  <span class="nb">name</span> <span class="o">=</span> <span class="s2">"dc1"</span>
<span class="p">}</span>

<span class="n">data</span> <span class="s2">"vsphere_host"</span> <span class="s2">"host"</span> <span class="p">{</span>
  <span class="n">count</span>         <span class="o">=</span> <span class="s2">"${length(var.esxi_hosts)}"</span>
  <span class="nb">name</span>          <span class="o">=</span> <span class="s2">"${var.esxi_hosts[count.index]}"</span>
  <span class="n">datacenter_id</span> <span class="o">=</span> <span class="s2">"${data.vsphere_datacenter.dc.id}"</span>
<span class="p">}</span>

<span class="n">resource</span> <span class="s2">"vsphere_distributed_virtual_switch"</span> <span class="s2">"dvs"</span> <span class="p">{</span>
  <span class="nb">name</span>          <span class="o">=</span> <span class="s2">"terraform-test-dvs"</span>
  <span class="n">datacenter_id</span> <span class="o">=</span> <span class="s2">"${data.vsphere_datacenter.dc.id}"</span>

  <span class="n">uplinks</span>         <span class="o">=</span> <span class="p">[</span><span class="s2">"uplink1"</span><span class="p">,</span> <span class="s2">"uplink2"</span><span class="p">,</span> <span class="s2">"uplink3"</span><span class="p">,</span> <span class="s2">"uplink4"</span><span class="p">]</span>
  <span class="n">active_uplinks</span>  <span class="o">=</span> <span class="p">[</span><span class="s2">"uplink1"</span><span class="p">,</span> <span class="s2">"uplink2"</span><span class="p">]</span>
  <span class="n">standby_uplinks</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"uplink3"</span><span class="p">,</span> <span class="s2">"uplink4"</span><span class="p">]</span>

  <span class="n">host</span> <span class="p">{</span>
    <span class="n">host_system_id</span> <span class="o">=</span> <span class="s2">"${data.vsphere_host.host.0.id}"</span>
    <span class="n">devices</span>        <span class="o">=</span> <span class="p">[</span><span class="s2">"${var.network_interfaces}"</span><span class="p">]</span>
  <span class="p">}</span>

  <span class="n">host</span> <span class="p">{</span>
    <span class="n">host_system_id</span> <span class="o">=</span> <span class="s2">"${data.vsphere_host.host.1.id}"</span>
    <span class="n">devices</span>        <span class="o">=</span> <span class="p">[</span><span class="s2">"${var.network_interfaces}"</span><span class="p">]</span>
  <span class="p">}</span>

  <span class="n">host</span> <span class="p">{</span>
    <span class="n">host_system_id</span> <span class="o">=</span> <span class="s2">"${data.vsphere_host.host.2.id}"</span>
    <span class="n">devices</span>        <span class="o">=</span> <span class="p">[</span><span class="s2">"${var.network_interfaces}"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h3 id="uplink-name-and-count-control">
  <a name="uplink-name-and-count-control" class="anchor" href="#uplink-name-and-count-control">&raquo;</a>
  Uplink name and count control
</h3>
<p>The following abridged example below demonstrates how you can manage the number
of uplinks, and the name of the uplinks via the <code>uplinks</code> parameter.</p>
<p>Note that if you change the uplink naming and count after creating the DVS, you
may need to explicitly specify <code>active_uplinks</code> and <code>standby_uplinks</code> as these
values are saved to Terraform state after creation, regardless of being
specified in config, and will drift if not modified, causing errors.</p>
<div class="highlight"><pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"vsphere_distributed_virtual_switch"</span> <span class="s2">"dvs"</span> <span class="p">{</span>
  <span class="nb">name</span>          <span class="o">=</span> <span class="s2">"terraform-test-dvs"</span>
  <span class="n">datacenter_id</span> <span class="o">=</span> <span class="s2">"${data.vsphere_datacenter.dc.id}"</span>

  <span class="n">uplinks</span>         <span class="o">=</span> <span class="p">[</span><span class="s2">"tfup1"</span><span class="p">,</span> <span class="s2">"tfup2"</span><span class="p">]</span>
  <span class="n">active_uplinks</span>  <span class="o">=</span> <span class="p">[</span><span class="s2">"tfup1"</span><span class="p">]</span>
  <span class="n">standby_uplinks</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"tfup2"</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div><div class="alert alert-warning" role="alert">
<p><strong>NOTE:</strong> The default uplink names when a DVS is created are <code>uplink1</code>
through to <code>uplink4</code>, however this default is not guaranteed to be stable and
you are encouraged to set your own.</p>
</div>
<h2 id="argument-reference">
  <a name="argument-reference" class="anchor" href="#argument-reference">&raquo;</a>
  Argument Reference
</h2>
<p>The following arguments are supported:</p>

<ul>
<li><a name="name" /><a href="#name"><code>name</code></a> - (Required) The name of the distributed virtual switch.
</li>
<li><a name="datacenter_id" /><a href="#datacenter_id"><code>datacenter_id</code></a> - (Required) The ID of the datacenter where the distributed
virtual switch will be created. Forces a new resource if changed.
</li>
<li><a name="folder" /><a href="#folder"><code>folder</code></a> - (Optional) The folder to create the DVS in. Forces a new resource
if changed.
</li>
<li><a name="description" /><a href="#description"><code>description</code></a> - (Optional) A detailed description for the DVS.
</li>
<li><a name="contact_name" /><a href="#contact_name"><code>contact_name</code></a> - (Optional) The name of the person who is responsible for the
DVS. 
</li>
<li><a name="contact_detail" /><a href="#contact_detail"><code>contact_detail</code></a> - (Optional) The detailed contact information for the person
who is responsible for the DVS. 
</li>
<li><a name="ipv4_address" /><a href="#ipv4_address"><code>ipv4_address</code></a> - (Optional) An IPv4 address to identify the switch. This is
mostly useful when used with the <a href="#netflow-arguments">Netflow arguments</a> found
below.
</li>
<li><a name="lacp_api_version" /><a href="#lacp_api_version"><code>lacp_api_version</code></a> - (Optional) The Link Aggregation Control Protocol group
version to use with the switch. Possible values are <code>singleLag</code> and
<code>multipleLag</code>.
</li>
<li><a name="link_discovery_operation" /><a href="#link_discovery_operation"><code>link_discovery_operation</code></a> - (Optional) Whether to <code>advertise</code> or <code>listen</code>
for link discovery traffic.
</li>
<li><a name="link_discovery_protocol" /><a href="#link_discovery_protocol"><code>link_discovery_protocol</code></a> - (Optional) The discovery protocol type. Valid
types are <code>cdp</code> and <code>lldp</code>.
</li>
<li><a name="max_mtu" /><a href="#max_mtu"><code>max_mtu</code></a> - (Optional) The maximum transmission unit (MTU) for the virtual
switch.
</li>
<li><a name="multicast_filtering_mode" /><a href="#multicast_filtering_mode"><code>multicast_filtering_mode</code></a> - (Optional) The multicast filtering mode to use
with the switch. Can be one of <code>legacyFiltering</code> or <code>snooping</code>.
</li>
<li><a name="version" /><a href="#version"><code>version</code></a> - (Optional) - The version of the DVS to create. The default is to
create the DVS at the latest version supported by the version of vSphere
being used. A DVS can be upgraded to another version, but cannot be
downgraded.
</li>
<li><a name="tags" /><a href="#tags"><code>tags</code></a> - (Optional) The IDs of any tags to attach to this resource. See
<a href="/docs/providers/vsphere/r/tag.html#using-tags-in-a-supported-resource">here</a> for a reference on how to apply tags.
</li>
</ul>
<div class="alert alert-warning" role="alert">
<p><strong>NOTE:</strong> Tagging support requires vCenter 6.0 or higher.</p>
</div>

<ul>
<li><a name="custom_attributes" /><a href="#custom_attributes"><code>custom_attributes</code></a> - (Optional) Map of custom attribute ids to attribute
value strings to set for virtual switch. See 
<a href="/docs/providers/vsphere/r/custom_attribute.html#using-custom-attributes-in-a-supported-resource">here</a> for a reference on how to set values 
for custom attributes.
</li>
</ul>
<div class="alert alert-warning" role="alert">
<p><strong>NOTE:</strong> Custom attributes are unsupported on direct ESXi connections 
and require vCenter.</p>
</div>
<h3 id="uplink-arguments">
  <a name="uplink-arguments" class="anchor" href="#uplink-arguments">&raquo;</a>
  Uplink arguments
</h3>

<ul>
<li><a name="uplinks" /><a href="#uplinks"><code>uplinks</code></a> - (Optional) A list of strings that uniquely identifies the names
of the uplinks on the DVS across hosts. The number of items in this list
controls the number of uplinks that exist on the DVS, in addition to the
names.  See <a href="#uplink-name-and-count-control">here</a> for an example on how to
use this option.
</li>
</ul>
<h3 id="host-management-arguments">
  <a name="host-management-arguments" class="anchor" href="#host-management-arguments">&raquo;</a>
  Host management arguments
</h3>

<ul>
<li><a name="host" /><a href="#host"><code>host</code></a> - (Optional) Use the <code>host</code> block to declare a host specification. The
options are:

<ul>
<li><a name="host_system_id" /><a href="#host_system_id"><code>host_system_id</code></a> - (Required) The host system ID of the host to add to the
DVS.
</li>
<li><a name="devices" /><a href="#devices"><code>devices</code></a> - (Required) The list of NIC devices to map to uplinks on the DVS,
added in order they are specified.
</li>
</ul>
</li>
</ul>
<h3 id="netflow-arguments">
  <a name="netflow-arguments" class="anchor" href="#netflow-arguments">&raquo;</a>
  Netflow arguments
</h3>
<p>The following options control settings that you can use to configure Netflow on
the DVS:</p>

<ul>
<li><a name="netflow_active_flow_timeout" /><a href="#netflow_active_flow_timeout"><code>netflow_active_flow_timeout</code></a> - (Optional) The number of seconds after which
active flows are forced to be exported to the collector. Allowed range is
<code>60</code> to <code>3600</code>. Default: <code>60</code>. 
</li>
<li><a name="netflow_collector_ip_address" /><a href="#netflow_collector_ip_address"><code>netflow_collector_ip_address</code></a> - (Optional) IP address for the Netflow
collector, using IPv4 or IPv6. IPv6 is supported in vSphere Distributed
Switch Version 6.0 or later. Must be set before Netflow can be enabled.
</li>
<li><a name="netflow_collector_port" /><a href="#netflow_collector_port"><code>netflow_collector_port</code></a> - (Optional) Port for the Netflow collector. This
must be set before Netflow can be enabled.
</li>
<li><a name="netflow_idle_flow_timeout" /><a href="#netflow_idle_flow_timeout"><code>netflow_idle_flow_timeout</code></a> - (Optional) The number of seconds after which
idle flows are forced to be exported to the collector. Allowed range is <code>10</code>
to <code>600</code>. Default: <code>15</code>.
</li>
<li><a name="netflow_internal_flows_only" /><a href="#netflow_internal_flows_only"><code>netflow_internal_flows_only</code></a> - (Optional) Whether to limit analysis to
traffic that has both source and destination served by the same host.
Default: <code>false</code>.
</li>
<li><a name="netflow_observation_domain_id" /><a href="#netflow_observation_domain_id"><code>netflow_observation_domain_id</code></a> - (Optional) The observation domain ID for
the Netflow collector.
</li>
<li><a name="netflow_sampling_rate" /><a href="#netflow_sampling_rate"><code>netflow_sampling_rate</code></a> - (Optional) The ratio of total number of packets to
the number of packets analyzed. The default is <code>0</code>, which indicates that the
switch should analyze all packets. The maximum value is <code>1000</code>, which
indicates an analysis rate of 0.001%.
</li>
</ul>
<h3 id="network-i-o-control-arguments">
  <a name="network-i-o-control-arguments" class="anchor" href="#network-i-o-control-arguments">&raquo;</a>
  Network I/O control arguments
</h3>
<p>The following arguments manage network I/O control. Network I/O control (also
known as network resource control) can be used to set up advanced traffic
shaping for the DVS, allowing control of various classes of traffic in a
fashion similar to how resource pools work for virtual machines. Configuration
of network I/O control is also a requirement for the use of network resource
pools, if their use is so desired.</p>
<h4 id="general-network-i-o-control-arguments">
  <a name="general-network-i-o-control-arguments" class="anchor" href="#general-network-i-o-control-arguments">&raquo;</a>
  General network I/O control arguments
</h4>

<ul>
<li><a name="network_resource_control_enabled" /><a href="#network_resource_control_enabled"><code>network_resource_control_enabled</code></a> - (Optional) Set to <code>true</code> to enable
network I/O control. Default: <code>false</code>.
</li>
<li><a name="network_resource_control_version" /><a href="#network_resource_control_version"><code>network_resource_control_version</code></a> - (Optional) The version of network I/O
control to use. Can be one of <code>version2</code> or <code>version3</code>. Default: <code>version2</code>.
</li>
</ul>
<h4 id="network-i-o-control-traffic-classes">
  <a name="network-i-o-control-traffic-classes" class="anchor" href="#network-i-o-control-traffic-classes">&raquo;</a>
  Network I/O control traffic classes
</h4>
<p>There are currently 9 traffic classes that can be used for network I/O
control - they are below.</p>
<p>Each of these classes has 4 options that can be tuned that are discussed in the
next section.</p>
<table>
<p><tr><th>Type</th><th>Class Name</th></tr>
<tr><td>Fault Tolerance (FT) Traffic</td><td><code>faulttolerance</code></td></tr>
<tr><td>vSphere Replication (VR) Traffic</td><td><code>hbr</code></td></tr>
<tr><td>iSCSI Traffic</td><td><code>iscsi</code></td></tr>
<tr><td>Management Traffic</td><td><code>management</code></td></tr>
<tr><td>NFS Traffic</td><td><code>nfs</code></td></tr>
<tr><td>vSphere Data Protection</td><td><code>vdp</code></td></tr>
<tr><td>Virtual Machine Traffic</td><td><code>virtualmachine</code></td></tr>
<tr><td>vMotion Traffic</td><td><code>vmotion</code></td></tr>
<tr><td>VSAN Traffic</td><td><code>vsan</code></td></tr></p>
</table><h4 id="traffic-class-resource-options">
  <a name="traffic-class-resource-options" class="anchor" href="#traffic-class-resource-options">&raquo;</a>
  Traffic class resource options
</h4>
<p>There are 4 traffic resource options for each class, prefixed with the name of
the traffic classes seen above.</p>
<p>For example, to set the traffic class resource options for virtual machine
traffic, see the example below:</p>
<div class="highlight"><pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"vsphere_distributed_virtual_switch"</span> <span class="s2">"dvs"</span> <span class="p">{</span>
  <span class="o">...</span>
  <span class="n">virtualmachine_share_level</span>      <span class="o">=</span> <span class="s2">"custom"</span>
  <span class="n">virtualmachine_share_count</span>      <span class="o">=</span> <span class="mi">150</span>
  <span class="n">virtualmachine_maximum_mbit</span>     <span class="o">=</span> <span class="mi">200</span>
  <span class="n">virtualmachine_reservation_mbit</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">}</span>
</code></pre></div><p>The options are:</p>

<ul>
<li><a name="share_level" /><a href="#share_level"><code>share_level</code></a> - (Optional) A pre-defined share level that can be assigned to
this resource class. Can be one of <code>low</code>, <code>normal</code>, <code>high</code>, or <code>custom</code>.
</li>
<li><a name="share_count" /><a href="#share_count"><code>share_count</code></a> - (Optional) The number of shares for a custom level. This is
ignored if <code>share_level</code> is not <code>custom</code>.
</li>
<li><a name="maximum_mbit" /><a href="#maximum_mbit"><code>maximum_mbit</code></a> - (Optional) The maximum amount of bandwidth allowed for this
traffic class in Mbits/sec.
</li>
<li><a name="reservation_mbit" /><a href="#reservation_mbit"><code>reservation_mbit</code></a> - (Optional) The guaranteed amount of bandwidth for this
traffic class in Mbits/sec.
</li>
</ul>
<h3 id="default-port-group-policy-arguments">
  <a name="default-port-group-policy-arguments" class="anchor" href="#default-port-group-policy-arguments">&raquo;</a>
  Default port group policy arguments
</h3>
<p>The following arguments are shared with the
<a href="/docs/providers/vsphere/r/distributed_port_group.html"><code>vsphere_distributed_port_group</code></a> resource. Setting
them here defines a default policy here that will be inherited by other port
groups on this switch that do not have these values otherwise overridden. Not
defining these options in a DVS will infer defaults that can be seen in the
Terraform state after the initial apply.</p>
<p>Of particular note to a DVS are the <a href="#ha-policy-options">HA policy options</a>,
which is where the <code>active_uplinks</code> and <code>standby_uplinks</code> options are
controlled, allowing the ability to create a NIC failover policy that applies
to the entire DVS and all portgroups within it that don&#39;t override the policy.</p>
<h4 id="vlan-options">
  <a name="vlan-options" class="anchor" href="#vlan-options">&raquo;</a>
  VLAN options
</h4>
<p>The following options control the VLAN behaviour of the port groups the port
policy applies to. One one of these 3 options may be set:</p>

<ul>
<li><a name="vlan" /><a href="#vlan"><code>vlan</code></a> - (Optional) The member VLAN for the ports this policy applies to. A
value of <code>0</code> means no VLAN.
</li>
<li><a name="vlan_range" /><a href="#vlan_range"><code>vlan_range</code></a> - (Optional) Used to denote VLAN trunking. Use the <code>min_vlan</code>
and <code>max_vlan</code> sub-arguments to define the tagged VLAN range. Multiple
<code>vlan_range</code> definitions are allowed, but they must not overlap. Example
below:
</li>
</ul>
<div class="highlight"><pre class="highlight hcl"><code><span class="n">resource</span> <span class="s2">"vsphere_distributed_virtual_switch"</span> <span class="s2">"dvs"</span> <span class="p">{</span>
  <span class="o">...</span>
  <span class="n">vlan_range</span> <span class="p">{</span>
    <span class="n">min_vlan</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">max_vlan</span> <span class="o">=</span> <span class="mi">1000</span>
  <span class="p">}</span>
  <span class="n">vlan_range</span> <span class="p">{</span>
    <span class="n">min_vlan</span> <span class="o">=</span> <span class="mi">2000</span>
    <span class="n">max_vlan</span> <span class="o">=</span> <span class="mi">4094</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li><a name="port_private_secondary_vlan_id" /><a href="#port_private_secondary_vlan_id"><code>port_private_secondary_vlan_id</code></a> - (Optional) Used to define a secondary VLAN
ID when using private VLANs.
</li>
</ul>
<h4 id="ha-policy-options">
  <a name="ha-policy-options" class="anchor" href="#ha-policy-options">&raquo;</a>
  HA policy options
</h4>
<p>The following options control HA policy for ports that this policy applies to:</p>

<ul>
<li><a name="active_uplinks" /><a href="#active_uplinks"><code>active_uplinks</code></a> - (Optional) A list of active uplinks to be used in load
balancing. These uplinks need to match the definitions in the
<a href="#uplinks"><code>uplinks</code></a> DVS argument. See
<a href="#uplink-name-and-count-control">here</a> for more details.
</li>
<li><a name="standby_uplinks" /><a href="#standby_uplinks"><code>standby_uplinks</code></a> - (Optional) A list of standby uplinks to be used in
failover. These uplinks need to match the definitions in the
<a href="#uplinks"><code>uplinks</code></a> DVS argument. See
<a href="#uplink-name-and-count-control">here</a> for more details.
</li>
<li><a name="check_beacon" /><a href="#check_beacon"><code>check_beacon</code></a> - (Optional) Enables beacon probing as an additional measure
to detect NIC failure.
</li>
</ul>
<div class="alert alert-warning" role="alert">
<p><strong>NOTE:</strong> VMware recommends using a minimum of 3 NICs when using beacon
probing.</p>
</div>

<ul>
<li><a name="failback" /><a href="#failback"><code>failback</code></a> - (Optional) If <code>true</code>, the teaming policy will re-activate failed
uplinks higher in precedence when they come back up.
</li>
<li><a name="notify_switches" /><a href="#notify_switches"><code>notify_switches</code></a> - (Optional) If <code>true</code>, the teaming policy will notify the
broadcast network of an uplink failover, triggering cache updates.
</li>
<li><a name="teaming_policy" /><a href="#teaming_policy"><code>teaming_policy</code></a> - (Optional) The uplink teaming policy. Can be one of
<code>loadbalance_ip</code>, <code>loadbalance_srcmac</code>, <code>loadbalance_srcid</code>, or
<code>failover_explicit</code>.
</li>
</ul>
<h4 id="lacp-options">
  <a name="lacp-options" class="anchor" href="#lacp-options">&raquo;</a>
  LACP options
</h4>
<p>The following options allow the use of LACP for NIC teaming for ports that this
policy applies to.</p>
<div class="alert alert-warning" role="alert">
<p><strong>NOTE:</strong> These options are ignored for non-uplink port groups and hence are
only useful at the DVS level.</p>
</div>

<ul>
<li><a name="lacp_enabled" /><a href="#lacp_enabled"><code>lacp_enabled</code></a> - (Optional) Enables LACP for the ports that this policy
applies to.
</li>
<li><a name="lacp_mode" /><a href="#lacp_mode"><code>lacp_mode</code></a> - (Optional) The LACP mode. Can be one of <code>active</code> or <code>passive</code>.
</li>
</ul>
<h4 id="security-options">
  <a name="security-options" class="anchor" href="#security-options">&raquo;</a>
  Security options
</h4>
<p>The following options control security settings for the ports that this policy
applies to:</p>

<ul>
<li><a name="allow_forged_transmits" /><a href="#allow_forged_transmits"><code>allow_forged_transmits</code></a> - (Optional) Controls whether or not a virtual
network adapter is allowed to send network traffic with a different MAC
address than that of its own.
</li>
<li><a name="allow_mac_changes" /><a href="#allow_mac_changes"><code>allow_mac_changes</code></a> - (Optional) Controls whether or not the Media Access
Control (MAC) address can be changed.
</li>
<li><a name="allow_promiscuous" /><a href="#allow_promiscuous"><code>allow_promiscuous</code></a> - (Optional) Enable promiscuous mode on the network. This
flag indicates whether or not all traffic is seen on a given port.
</li>
</ul>
<h4 id="traffic-shaping-options">
  <a name="traffic-shaping-options" class="anchor" href="#traffic-shaping-options">&raquo;</a>
  Traffic shaping options
</h4>
<p>The following options control traffic shaping settings for the ports that this
policy applies to:</p>

<ul>
<li><a name="ingress_shaping_enabled" /><a href="#ingress_shaping_enabled"><code>ingress_shaping_enabled</code></a> - (Optional) <code>true</code> if the traffic shaper is
enabled on the port for ingress traffic.
</li>
<li><a name="ingress_shaping_average_bandwidth" /><a href="#ingress_shaping_average_bandwidth"><code>ingress_shaping_average_bandwidth</code></a> - (Optional) The average bandwidth in
bits per second if ingress traffic shaping is enabled on the port.
</li>
<li><a name="ingress_shaping_peak_bandwidth" /><a href="#ingress_shaping_peak_bandwidth"><code>ingress_shaping_peak_bandwidth</code></a> - (Optional) The peak bandwidth during
bursts in bits per second if ingress traffic shaping is enabled on the port.
</li>
<li><a name="ingress_shaping_burst_size" /><a href="#ingress_shaping_burst_size"><code>ingress_shaping_burst_size</code></a> - (Optional) The maximum burst size allowed in
bytes if ingress traffic shaping is enabled on the port.
</li>
<li><a name="egress_shaping_enabled" /><a href="#egress_shaping_enabled"><code>egress_shaping_enabled</code></a> - (Optional) <code>true</code> if the traffic shaper is enabled
on the port for egress traffic.
</li>
<li><a name="egress_shaping_average_bandwidth" /><a href="#egress_shaping_average_bandwidth"><code>egress_shaping_average_bandwidth</code></a> - (Optional) The average bandwidth in bits
per second if egress traffic shaping is enabled on the port.
</li>
<li><a name="egress_shaping_peak_bandwidth" /><a href="#egress_shaping_peak_bandwidth"><code>egress_shaping_peak_bandwidth</code></a> - (Optional) The peak bandwidth during bursts
in bits per second if egress traffic shaping is enabled on the port.
</li>
<li><a name="egress_shaping_burst_size" /><a href="#egress_shaping_burst_size"><code>egress_shaping_burst_size</code></a> - (Optional) The maximum burst size allowed in
bytes if egress traffic shaping is enabled on the port.
</li>
</ul>
<h4 id="miscellaneous-options">
  <a name="miscellaneous-options" class="anchor" href="#miscellaneous-options">&raquo;</a>
  Miscellaneous options
</h4>
<p>The following are some general options that also affect ports that this policy
applies to:</p>

<ul>
<li><a name="block_all_ports" /><a href="#block_all_ports"><code>block_all_ports</code></a> - (Optional) Shuts down all ports in the port groups that
this policy applies to, effectively blocking all network access to connected
virtual devices.
</li>
<li><a name="netflow_enabled" /><a href="#netflow_enabled"><code>netflow_enabled</code></a> - (Optional) Enables Netflow on all ports that this policy
applies to.
</li>
<li><a name="tx_uplink" /><a href="#tx_uplink"><code>tx_uplink</code></a> - (Optional) Forward all traffic transmitted by ports for which
this policy applies to its DVS uplinks.
</li>
<li><a name="directpath_gen2_allowed" /><a href="#directpath_gen2_allowed"><code>directpath_gen2_allowed</code></a> - (Optional) Allow VMDirectPath Gen2 for the ports
for which this policy applies to.
</li>
</ul>
<h2 id="attribute-reference">
  <a name="attribute-reference" class="anchor" href="#attribute-reference">&raquo;</a>
  Attribute Reference
</h2>
<p>The following attributes are exported:</p>

<ul>
<li><a name="id" /><a href="#id"><code>id</code></a>: The UUID of the created DVS.
</li>
<li><a name="config_version" /><a href="#config_version"><code>config_version</code></a>: The current version of the DVS configuration, incremented
by subsequent updates to the DVS.
</li>
</ul>
<h2 id="importing">
  <a name="importing" class="anchor" href="#importing">&raquo;</a>
  Importing
</h2>
<p>An existing DVS can be <a href="https://www.terraform.io/docs/import/index.html">imported</a> into this resource via the path
to the DVS, via the following command:</p>
<div class="highlight"><pre class="highlight plaintext"><code>terraform import vsphere_distributed_virtual_switch.dvs /dc1/network/dvs
</code></pre></div><p>The above would import the DVS named <code>dvs</code> that is located in the <code>dc1</code>
datacenter.</p>


    </div>
  </div>
</div>


    <div id="footer" class="navigation hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <ul class="footer-links nav navbar-nav">
              <li><a href="/intro/index.html">Intro</a></li>
              <li><a href="/docs/index.html">Docs</a></li>
              <li><a href="/docs/extend/index.html">Extend</a></li>
              <li><a href="https://www.hashicorp.com/privacy">Privacy</a></li>
              <li><a href="/security.html">Security</a></li>
              <li><a href="/assets/files/press-kit.zip">Press Kit</a></li>
            </ul>
            <ul class="footer-links nav navbar-nav navbar-right">
              <li><a href="https://github.com/hashicorp/terraform-website">Edit this page</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Product",
        "name": "Terraform",
        "alternateName": "Terraform by HashiCorp",
        "manufacturer": "HashiCorp",
        "url": "https://www.terraform.io",
        "logo": "https://www.terraform.io/assets/images/logo-hashicorp-3f10732f.svg",
        "sameAs": [
          "https://github.com/hashicorp/terraform"
        ]
      }
    </script>
  </body>
</html>
