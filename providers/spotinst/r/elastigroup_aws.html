<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Provides a Spotinst AWS group resource.">

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon-13180a24.png">
    <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-32x32-62171ffd.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-16x16-2821bcc8.png" sizes="16x16">
    <link rel="manifest" href="/android-manifest.json">
    <link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab-bab846e1.svg" color="#5C4EE5">
    <meta name="msapplication-config" content="/microsoft-tile.xml" />
    <meta name="theme-color" content="#ffffff">

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@HashiCorp" />
    <meta name="twitter:creator" content="@HashiCorp" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.terraform.io/docs/providers/spotinst/r/elastigroup_aws.html" />
    <meta property="og:title" content="Spotinst: elastigroup_aws - Terraform by HashiCorp" />
    <meta property="og:site_name" content="Terraform by HashiCorp"/>
    <meta property="og:image" content="https://www.terraform.io/assets/images/og-image-f5bbc98c.png"/>
    <meta property="og:image:width" content="100"/>
    <meta property="og:image:height" content="100"/>
    <meta property="og:description" content="Provides a Spotinst AWS group resource." />

    <title>Spotinst: elastigroup_aws - Terraform by HashiCorp</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://use.typekit.net/wxf7mfi.css">
    <link href="/assets/stylesheets/application-825d2399.css" rel="stylesheet" />

    <!-- Site scripts -->
    <!--[if lt IE 9]><script src="/assets/javascripts/ie-compat-c141a02d.js" defer="defer"></script><![endif]-->
    <script src="/assets/javascripts/application-e080fe63.js" defer="defer"></script>

    <!-- Analytics scrpts -->
    <script defer>
      !function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),e.push(a),e}};for(var t=0;t<e.methods.length;t++){var a=e.methods[t];e[a]=e.factory(a)}e.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)},e.SNIPPET_VERSION="4.0.0",e.load("0EXTgkNx0Ydje2PGXVbRhpKKoe5wtzcE")}}();var om597a24292a958,om597a24292a958_poll=function(){var e=0;return function(t,a){clearInterval(e),e=setInterval(t,a)}}();!function(e,t,a){if(e.getElementById(a))om597a24292a958_poll(function(){if(window.om_loaded&&!om597a24292a958)return(om597a24292a958=new OptinMonsterApp).init({s:"35109.597a24292a958",staging:0,dev:0,beta:0})},25);else{var n=!1,o=e.createElement("script");o.id=a,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=!0,o.onload=o.onreadystatechange=function(){if(!(n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState))try{n=om_loaded=!0,(om597a24292a958=new OptinMonsterApp).init({s:"35109.597a24292a958",staging:0,dev:0,beta:0}),o.onload=o.onreadystatechange=null}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}}(document,0,"omapi-script");
    </script>

    
  </head>

  <body id="page-docs-do-resource-elastigroup_aws" class="layout-spotinst page-spotinst-elastigroup-aws">

    <svg class="hidden-print" aria-hidden="true" style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <symbol id="mega-nav-icon-angle" viewBox="0 0 13 7">
      <polygon points="6.5,6.5 0.7,1.6 1.3,0.8 6.5,5.2 11.7,0.8 12.3,1.6 "/>
    </symbol>
    <symbol id="mega-nav-icon-close" viewBox="0 0 13 15">
      <path vector-effect="non-scaling-stroke" d="M1.1 14L11.9 1M11.9 14L1.1 1"/>
    </symbol>
  </defs>
</svg>
<div class="hidden-print mega-nav-sandbox">
  <div class="mega-nav-banner">
    <div class="container">
      <div class="mega-nav-banner-item">
        <a class="mega-nav-banner-logo" href="https://www.hashicorp.com"><img src="/assets/images/mega-nav/logo-hashicorp-wordmark-bbed0e8a.svg" alt="HashiCorp Logo" /></a>
      </div>
      <div class="mega-nav-banner-item">
        <p class="mega-nav-tagline"><span class="visible-xs text-muted">Learn the</span><span class="hidden-xs text-muted">Learn how Terraform fits into the</span></p>
        <div id="#mega-nav" class="mega-nav">
          <button type="button" id="mega-nav-ctrl" class="mega-nav-ctrl">
            <div class="mega-nav-ctrl-items">
              <img src="/assets/images/mega-nav/logo-hashicorp-a66fda95.svg" alt="HashiCorp Logo" />
              <strong>HashiCorp Suite</strong>
              <span class="mega-nav-icon-outline">
                <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg><span class="visuallyhidden">Open</span>
              </span>
            </div>
          </button>
          <div id="mega-nav-body-ct" class="mega-nav-body-ct" aria-labelledby="mega-nav-ctrl">
            <div class="mega-nav-body">
              <button type="button" id="mega-nav-close" class="mega-nav-close"><svg class="mega-nav-icon mega-nav-icon-close" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-close"></use></svg><span class="visuallyhidden">Close</span></button>
              <div class="mega-nav-body-header">
                <div class="mega-nav-body-header-item">
                  <h2 class="mega-nav-h1">Provision, Secure, Connect, and&nbsp;Run</h2>
                  <p class="mega-nav-h2">Any infrastructure for any&nbsp;application</p>
                </div>
                <div class="mega-nav-body-header-item">
                  <a href="https://www.hashicorp.com/" class="mega-nav-btn"><img src="/assets/images/mega-nav/logo-hashicorp-a66fda95.svg" alt="HashiCorp Logo" /> Learn the HashiCorp Enterprise&nbsp;Suite <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg></a>
                </div>
              </div>
              <div class="mega-nav-body-grid">
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Provision</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.vagrantup.com" class="mega-nav-grid-item mega-nav-grid-item-vagrant">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-vagrant-a7ab5898.svg" alt="Vagrant Logo" />
                        </div>
                        <b>Vagrant</b>
                        <ul>
                          <li><span class="mega-nav-tag">Build</span></li>
                          <li><span class="mega-nav-tag">Test</span></li>
                        </ul>
                      </a>
                    </li>
                    <li>
                      <a href="https://www.packer.io" class="mega-nav-grid-item mega-nav-grid-item-packer">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-packer-cb3b9b94.svg" alt="Packer Logo" />
                        </div>
                        <b>Packer</b>
                        <ul>
                          <li><span class="mega-nav-tag">Package</span></li>
                        </ul>
                      </a>
                    </li>
                    <li>
                      <a href="https://www.terraform.io" class="mega-nav-grid-item mega-nav-grid-item-terraform">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-terraform-ff69eaae.svg" alt="Terraform Logo" />
                        </div>
                        <b>Terraform</b>
                        <ul>
                          <li><span class="mega-nav-tag">Provision</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Secure</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.vaultproject.io" class="mega-nav-grid-item mega-nav-grid-item-vault">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-vault-0f83e3d2.svg" alt="Vault Logo" />
                        </div>
                        <b>Vault</b>
                        <ul>
                          <li><span class="mega-nav-tag">Secure</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Connect</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.consul.io" class="mega-nav-grid-item mega-nav-grid-item-consul">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-consul-c77f6844.svg" alt="Consul Logo" />
                        </div>
                        <b>Consul</b>
                        <ul>
                          <li><span class="mega-nav-tag">Connect</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Run</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.nomadproject.io" class="mega-nav-grid-item mega-nav-grid-item-nomad">
                        <div class="mega-nav-grid-item-img">
                          <img src="/assets/images/mega-nav/logo-nomad-c4c148be.svg" alt="Nomad Logo" />
                        </div>
                        <b>Nomad</b>
                        <ul>
                          <li><span class="mega-nav-tag">Run</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="mega-nav-body-footer">
                <p>Seven elements of the modern Application Lifecycle</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


    <div id="header" class="navigation navbar-static-top hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <div class="navbar-header">
              <div class="navbar-brand">
                <a href="/">
                  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 251 61" class="logo" height="50">
  <path class="text" fill="#000" fill-rule="nonzero" d="M81.78 19.54h-8.89v-5.31H96.7v5.31h-8.9v26.53h-6"></path>
  <path class="text" fill="#000" fill-rule="nonzero" d="M102.19 41.77c2.415-.012 4.814-.383 7.12-1.1l.91 4.4c-2.745.99-5.642 1.49-8.56 1.48-7.31 0-9.85-3.39-9.85-9V31.4c0-4.92 2.2-9.08 9.66-9.08s9.13 4.35 9.13 9.37v5h-13v1.2c.05 2.78 1.05 3.88 4.59 3.88zM97.65 32h7.41v-1.18c0-2.2-.67-3.73-3.54-3.73s-3.87 1.53-3.87 3.73V32zm28.54-4.33c-2.148.97-4.217 2.102-6.19 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.6 5.36zm14.24 0c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.58 5.36zm19.51 18.4h-4.78l-.43-1.58c-2.062 1.342-4.47 2.058-6.93 2.06-4.25 0-6.07-2.92-6.07-6.93 0-4.73 2.06-6.55 6.79-6.55h5.59v-2.44c0-2.58-.72-3.49-4.45-3.49-2.17.024-4.33.266-6.45.72l-.72-4.45c2.606-.72 5.296-1.09 8-1.1 7.31 0 9.47 2.58 9.47 8.41l-.02 15.35zm-5.83-8.8h-4.3c-1.91 0-2.44.53-2.44 2.29s.53 2.34 2.34 2.34c1.544-.024 3.058-.436 4.4-1.2v-3.43zm23.75-19.79c-1.1-.237-2.224-.364-3.35-.38-2.29 0-2.63 1-2.63 2.77v2.92h5.93l-.33 4.64h-5.59v18.64h-5.83V27.43h-3.73v-4.64h3.73v-3.25c0-4.83 2.25-7.22 7.41-7.22 1.69-.006 3.372.22 5 .67l-.61 4.49zm11.38 29.07c-8 0-10.13-4.4-10.13-9.18v-5.88c0-4.78 2.15-9.18 10.13-9.18s10.13 4.4 10.13 9.18v5.88c.01 4.78-2.15 9.18-10.13 9.18zm0-19.27c-3.11 0-4.3 1.39-4.3 4v6.26c0 2.63 1.2 4 4.3 4 3.1 0 4.3-1.39 4.3-4V31.3c0-2.63-1.19-4.02-4.3-4.02zm25.14.39c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.954-2.313 6.12-3.06l.58 5.36zm16.02 18.4V29.82c0-1.24-.53-1.86-1.86-1.86-2.137.254-4.2.934-6.07 2v16.11h-5.83V22.79h4.45l.57 2c2.906-1.47 6.088-2.315 9.34-2.48 1.843-.174 3.6.82 4.4 2.49 2.91-1.49 6.104-2.34 9.37-2.49 3.87 0 5.26 2.72 5.26 6.88v16.88h-5.83V29.82c0-1.24-.53-1.86-1.86-1.86-2.14.236-4.208.917-6.07 2v16.11h-5.87z"></path>
  <path class="rect-dark" fill="#4040B2" d="M36.4 39.13l16.4-9.46V10.72L36.4 20.2"></path>
  <path class="rect-light" fill="#5C4EE5" d="M18.2 10.72l16.4 9.48v18.93l-16.4-9.47"></path>
  <path class="rect-light" fill="#5C4EE5" d="M0 19.09l16.4 9.47V9.62L0 .15m18.2 50.53l16.4 9.47V41.21l-16.4-9.47"></path>
</svg>

                </a>
              </div>
              <button class="navbar-toggle" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="buttons hidden-xs">
              <nav class="navigation-links" role="navigation">
                <ul class="main-links nav navbar-nav navbar-right">
                  <li><a href="/intro/index.html">Intro</a></li>
                  <li><a href="/docs/index.html">Docs</a></li>
                  <li><a href="/guides/index.html">Guides</a></li>
                  <li><a href="/docs/extend/index.html">Extend</a></li>
                  <li><a href="https://www.hashicorp.com/products/terraform/?utm_source=oss&utm_medium=header-nav&utm_campaign=terraform">Enterprise</a></li>
                  <li>
                    <a href="/downloads.html">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h28V0zM13.8 22.9L7 17.3l2-2.4 3.2 2.6V7h3.2v10.5l3.2-2.6 2 2.4L13.8 22.9z"></path>
</svg>
 Download
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/hashicorp/terraform">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h11.4c0 0 0-1.3 0-2.4C7.7 26.4 7 23.9 7 23.9 6.4 22.4 5.5 22 5.5 22c-1.2-0.8 0.1-0.8 0.1-0.8 1.3 0.1 2 1.4 2 1.4 1.2 2 3 1.4 3.8 1.1 0.1-0.8 0.5-1.4 0.9-1.8 -2.9-0.3-6-1.5-6-6.5 0-1.4 0.5-2.6 1.3-3.5C7.5 11.5 7 10.2 7.8 8.4c0 0 1.1-0.4 3.6 1.3 1-0.3 2.2-0.4 3.3-0.4 1.1 0 2.2 0.2 3.3 0.4 2.5-1.7 3.6-1.3 3.6-1.3 0.7 1.8 0.3 3.1 0.1 3.5 0.8 0.9 1.3 2.1 1.3 3.5 0 5-3.1 6.1-6 6.5 0.5 0.4 0.9 1.2 0.9 2.4 0 1.8 0 3.7 0 3.7H28V0z"></path>
</svg>
 GitHub
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-overlay"></div>

<aside class="sidebar" role="navigation">
  <div class="sidebar-header">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 251 61" class="logo" height="42">
  <path class="text" fill="#000" fill-rule="nonzero" d="M81.78 19.54h-8.89v-5.31H96.7v5.31h-8.9v26.53h-6"></path>
  <path class="text" fill="#000" fill-rule="nonzero" d="M102.19 41.77c2.415-.012 4.814-.383 7.12-1.1l.91 4.4c-2.745.99-5.642 1.49-8.56 1.48-7.31 0-9.85-3.39-9.85-9V31.4c0-4.92 2.2-9.08 9.66-9.08s9.13 4.35 9.13 9.37v5h-13v1.2c.05 2.78 1.05 3.88 4.59 3.88zM97.65 32h7.41v-1.18c0-2.2-.67-3.73-3.54-3.73s-3.87 1.53-3.87 3.73V32zm28.54-4.33c-2.148.97-4.217 2.102-6.19 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.6 5.36zm14.24 0c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.58 5.36zm19.51 18.4h-4.78l-.43-1.58c-2.062 1.342-4.47 2.058-6.93 2.06-4.25 0-6.07-2.92-6.07-6.93 0-4.73 2.06-6.55 6.79-6.55h5.59v-2.44c0-2.58-.72-3.49-4.45-3.49-2.17.024-4.33.266-6.45.72l-.72-4.45c2.606-.72 5.296-1.09 8-1.1 7.31 0 9.47 2.58 9.47 8.41l-.02 15.35zm-5.83-8.8h-4.3c-1.91 0-2.44.53-2.44 2.29s.53 2.34 2.34 2.34c1.544-.024 3.058-.436 4.4-1.2v-3.43zm23.75-19.79c-1.1-.237-2.224-.364-3.35-.38-2.29 0-2.63 1-2.63 2.77v2.92h5.93l-.33 4.64h-5.59v18.64h-5.83V27.43h-3.73v-4.64h3.73v-3.25c0-4.83 2.25-7.22 7.41-7.22 1.69-.006 3.372.22 5 .67l-.61 4.49zm11.38 29.07c-8 0-10.13-4.4-10.13-9.18v-5.88c0-4.78 2.15-9.18 10.13-9.18s10.13 4.4 10.13 9.18v5.88c.01 4.78-2.15 9.18-10.13 9.18zm0-19.27c-3.11 0-4.3 1.39-4.3 4v6.26c0 2.63 1.2 4 4.3 4 3.1 0 4.3-1.39 4.3-4V31.3c0-2.63-1.19-4.02-4.3-4.02zm25.14.39c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.954-2.313 6.12-3.06l.58 5.36zm16.02 18.4V29.82c0-1.24-.53-1.86-1.86-1.86-2.137.254-4.2.934-6.07 2v16.11h-5.83V22.79h4.45l.57 2c2.906-1.47 6.088-2.315 9.34-2.48 1.843-.174 3.6.82 4.4 2.49 2.91-1.49 6.104-2.34 9.37-2.49 3.87 0 5.26 2.72 5.26 6.88v16.88h-5.83V29.82c0-1.24-.53-1.86-1.86-1.86-2.14.236-4.208.917-6.07 2v16.11h-5.87z"></path>
  <path class="rect-dark" fill="#4040B2" d="M36.4 39.13l16.4-9.46V10.72L36.4 20.2"></path>
  <path class="rect-light" fill="#5C4EE5" d="M18.2 10.72l16.4 9.48v18.93l-16.4-9.47"></path>
  <path class="rect-light" fill="#5C4EE5" d="M0 19.09l16.4 9.47V9.62L0 .15m18.2 50.53l16.4 9.47V41.21l-16.4-9.47"></path>
</svg>

  </div>

  <ul class="nav sidebar-nav">
    <li><a href="/intro/index.html">Intro</a></li>
    <li><a href="/docs/index.html">Docs</a></li>
    <li><a href="/guides/index.html">Guides</a></li>
    <li><a href="/docs/extend/index.html">Extend</a></li>
    <li><a href="https://www.hashicorp.com/products/terraform/?utm_source=oss&utm_medium=header-nav&utm_campaign=terraform">Enterprise</a></li>
  </ul>

  <div class="divider"></div>

  <ul class="external nav sidebar-nav">
    <li>
      <a href="/downloads.html">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h28V0zM13.8 22.9L7 17.3l2-2.4 3.2 2.6V7h3.2v10.5l3.2-2.6 2 2.4L13.8 22.9z"></path>
</svg>
 Download
      </a>
    </li>
    <li>
      <a href="https://github.com/hashicorp/terraform">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h11.4c0 0 0-1.3 0-2.4C7.7 26.4 7 23.9 7 23.9 6.4 22.4 5.5 22 5.5 22c-1.2-0.8 0.1-0.8 0.1-0.8 1.3 0.1 2 1.4 2 1.4 1.2 2 3 1.4 3.8 1.1 0.1-0.8 0.5-1.4 0.9-1.8 -2.9-0.3-6-1.5-6-6.5 0-1.4 0.5-2.6 1.3-3.5C7.5 11.5 7 10.2 7.8 8.4c0 0 1.1-0.4 3.6 1.3 1-0.3 2.2-0.4 3.3-0.4 1.1 0 2.2 0.2 3.3 0.4 2.5-1.7 3.6-1.3 3.6-1.3 0.7 1.8 0.3 3.1 0.1 3.5 0.8 0.9 1.3 2.1 1.3 3.5 0 5-3.1 6.1-6 6.5 0.5 0.4 0.9 1.2 0.9 2.4 0 1.8 0 3.7 0 3.7H28V0z"></path>
</svg>
 GitHub
      </a>
    </li>
  </ul>
</aside>


    <div class="container">
  <div class="row">
    <div id="docs-sidebar" class="col-sm-4 col-md-3 col-xs-12 hidden-print" role="complementary">
          <div class="docs-sidebar hidden-print affix-top" role="complementary">
      <ul class="nav docs-sidenav">
        <li>
            <a href="/docs/providers/index.html">All Providers</a>
        </li>

        <li>
            <a href="/docs/providers/spotinst/index.html">Spotinst Provider</a>
        </li>

        <li>
        <a href="#">Spotinst Resources</a>
            <ul class="nav nav-visible">
                <li>
                    <a href="/docs/providers/spotinst/r/elastigroup_aws.html">elastigroup_aws</a>
                </li>

                <li>
                  <a href="/docs/providers/spotinst/r/subscription.html">subscription</a>
                </li>
            </ul>
    </div>

    </div>

    <div id="inner" class="col-sm-8 col-md-9 col-xs-12" role="main">
      
  <h1 id="spotinst_elastigroup_aws">
  <a name="spotinst_elastigroup_aws" class="anchor" href="#spotinst_elastigroup_aws">&raquo;</a>
  spotinst_elastigroup_aws
</h1>
<p>Provides a Spotinst AWS group resource.</p>
<h2 id="example-usage">
  <a name="example-usage" class="anchor" href="#example-usage">&raquo;</a>
  Example Usage
</h2>
<div class="highlight"><pre class="highlight hcl"><code><span class="c1"># Create an Elastigroup</span>
<span class="n">resource</span> <span class="s2">"spotinst_elastigroup_aws"</span> <span class="s2">"default-elastigroup"</span> <span class="p">{</span>

  <span class="nb">name</span>        <span class="o">=</span> <span class="s2">"default-elastigroup"</span>
  <span class="n">description</span> <span class="o">=</span> <span class="s2">"created by Terraform"</span>
  <span class="n">product</span>     <span class="o">=</span> <span class="s2">"Linux/UNIX"</span>

  <span class="n">max_size</span>          <span class="o">=</span> <span class="mi">0</span>
  <span class="n">min_size</span>          <span class="o">=</span> <span class="mi">0</span>
  <span class="n">desired_capacity</span>  <span class="o">=</span> <span class="mi">0</span>
  <span class="n">capacity_unit</span>     <span class="o">=</span> <span class="s2">"weight"</span>

  <span class="n">region</span>      <span class="o">=</span> <span class="s2">"us-west-2"</span>
  <span class="n">subnet_ids</span>  <span class="o">=</span> <span class="p">[</span><span class="s2">"sb-123456"</span><span class="p">,</span> <span class="s2">"sb-456789"</span><span class="p">]</span>

  <span class="n">image_id</span>              <span class="o">=</span> <span class="s2">"ami-a27d8fda"</span>
  <span class="n">iam_instance_profile</span>  <span class="o">=</span> <span class="s2">"iam-profile"</span>
  <span class="n">key_name</span>              <span class="o">=</span> <span class="s2">"my-key.ssh"</span>
  <span class="n">security_groups</span>       <span class="o">=</span> <span class="p">[</span><span class="s2">"sg-123456"</span><span class="p">]</span>
  <span class="n">user_data</span>             <span class="o">=</span> <span class="s2">"echo hello world"</span>
  <span class="n">enable_monitoring</span>     <span class="o">=</span> <span class="kp">false</span>
  <span class="n">ebs_optimized</span>         <span class="o">=</span> <span class="kp">false</span>
  <span class="n">placement_tenancy</span>     <span class="o">=</span> <span class="s2">"default"</span>

  <span class="n">instance_types_ondemand</span>       <span class="o">=</span> <span class="s2">"m3.2xlarge"</span>
  <span class="n">instance_types_spot</span>           <span class="o">=</span> <span class="p">[</span><span class="s2">"m3.xlarge"</span><span class="p">,</span> <span class="s2">"m3.2xlarge"</span><span class="p">]</span>
  <span class="n">instance_types_preferred_spot</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"m3.xlarge"</span><span class="p">]</span>

  <span class="n">instance_types_weights</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"c3.large"</span>
    <span class="n">weight</span>        <span class="o">=</span> <span class="mi">10</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="n">instance_type</span> <span class="o">=</span> <span class="s2">"c4.xlarge"</span>
    <span class="n">weight</span>        <span class="o">=</span> <span class="mi">16</span>
  <span class="p">}]</span>

  <span class="n">orientation</span>           <span class="o">=</span> <span class="s2">"balanced"</span>
  <span class="n">fallback_to_ondemand</span>  <span class="o">=</span> <span class="kp">false</span>

  <span class="n">scaling_up_policy</span> <span class="p">{</span>
    <span class="n">policy_name</span>        <span class="o">=</span> <span class="s2">"Default Scaling Up Policy"</span>
    <span class="n">metric_name</span>        <span class="o">=</span> <span class="s2">"DefaultQueuesDepth"</span>
    <span class="n">statistic</span>          <span class="o">=</span> <span class="s2">"average"</span>
    <span class="n">unit</span>               <span class="o">=</span> <span class="s2">"none"</span>
    <span class="n">adjustment</span>         <span class="o">=</span> <span class="mi">1</span>
    <span class="n">namespace</span>          <span class="o">=</span> <span class="s2">"custom"</span>
    <span class="n">threshold</span>          <span class="o">=</span> <span class="mi">100</span>
    <span class="n">period</span>             <span class="o">=</span> <span class="mi">60</span>
    <span class="n">evaluation_periods</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">cooldown</span>           <span class="o">=</span> <span class="mi">300</span>
  <span class="p">}</span>

  <span class="n">scaling_down_policy</span> <span class="p">{</span>
    <span class="n">policy_name</span>        <span class="o">=</span> <span class="s2">"Default Scaling Down Policy"</span>
    <span class="n">metric_name</span>        <span class="o">=</span> <span class="s2">"DefaultQueuesDepth"</span>
    <span class="n">statistic</span>          <span class="o">=</span> <span class="s2">"average"</span>
    <span class="n">unit</span>               <span class="o">=</span> <span class="s2">"none"</span>
    <span class="n">adjustment</span>         <span class="o">=</span> <span class="mi">1</span>
    <span class="n">namespace</span>          <span class="o">=</span> <span class="s2">"custom"</span>
    <span class="n">threshold</span>          <span class="o">=</span> <span class="mi">10</span>
    <span class="n">period</span>             <span class="o">=</span> <span class="mi">60</span>
    <span class="n">evaluation_periods</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">cooldown</span>           <span class="o">=</span> <span class="mi">300</span>
  <span class="p">}</span>

  <span class="n">tags</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
     <span class="n">key</span>   <span class="o">=</span> <span class="s2">"Env"</span>
     <span class="n">value</span> <span class="o">=</span> <span class="s2">"production"</span>
  <span class="p">},</span> 
  <span class="p">{</span>
     <span class="n">key</span>   <span class="o">=</span> <span class="s2">"Name"</span>
     <span class="n">value</span> <span class="o">=</span> <span class="s2">"default-production"</span>
  <span class="p">},</span>
  <span class="p">{</span>
     <span class="n">key</span>   <span class="o">=</span> <span class="s2">"Project"</span>
     <span class="n">value</span> <span class="o">=</span> <span class="s2">"app_v2"</span>
  <span class="p">}</span>
 <span class="p">]</span>

  <span class="n">lifecycle</span> <span class="p">{</span>
    <span class="n">ignore_changes</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s2">"desired_capacity"</span><span class="p">,</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h2 id="argument-reference">
  <a name="argument-reference" class="anchor" href="#argument-reference">&raquo;</a>
  Argument Reference
</h2>
<p>The following arguments are supported:</p>

<ul>
<li><a name="name" /><a href="#name"><code>name</code></a> - (Required) The group name.
</li>
<li><a name="description" /><a href="#description"><code>description</code></a> - (Required) The group description.
</li>
<li><p><a name="product" /><a href="#product"><code>product</code></a> - (Required) Operation system type. Valid values: <code>&quot;Linux/UNIX&quot;</code>, <code>&quot;SUSE Linux&quot;</code>, <code>&quot;Windows&quot;</code>. 
For EC2 Classic instances:  <code>&quot;Linux/UNIX (Amazon VPC)&quot;</code>, <code>&quot;SUSE Linux (Amazon VPC)&quot;</code>, <code>&quot;Windows (Amazon VPC)&quot;</code>.</p>
</li>
<li><p><a name="availability_zones" /><a href="#availability_zones"><code>availability_zones</code></a> - (Optional) List of Strings of availability zones.
Note: When this parameter is set, <code>subnet_ids</code> should be left unused.</p>
</li>
<li><p><a name="subnet_ids" /><a href="#subnet_ids"><code>subnet_ids</code></a> - (Optional) List of Strings of subnet identifiers.
Note: When this parameter is set, <code>availability_zones</code> should be left unused.</p>
</li>
<li><p><a name="region" /><a href="#region"><code>region</code></a> - (Optional) The AWS region your group will be created in.
Note: This parameter is required if you specify subnets (through subnet_ids). This parameter is optional if you specify Availability Zones (through availability_zones).</p>
</li>
<li><p><a name="preferred_availability_zones" /><a href="#preferred_availability_zones"><code>preferred_availability_zones</code></a> - The AZs to prioritize when launching Spot instances. If no markets are available in the Preferred AZs, Spot instances are launched in the non-preferred AZs. 
Note: Must be a sublist of <code>availability_zones</code> and <code>orientation</code> value must not be <code>&quot;equalAzDistribution&quot;</code>.</p>
</li>
<li><p><a name="max_size" /><a href="#max_size"><code>max_size</code></a> - (Optional; Required if using scaling policies) The maximum number of instances the group should have at any time.</p>
</li>
<li><p><a name="min_size" /><a href="#min_size"><code>min_size</code></a> - (Optional; Required if using scaling policies) The minimum number of instances the group should have at any time.</p>
</li>
<li><p><a name="desired_capacity" /><a href="#desired_capacity"><code>desired_capacity</code></a> - (Optional) The desired number of instances the group should have at any time.</p>
</li>
<li><p><a name="capacity_unit" /><a href="#capacity_unit"><code>capacity_unit</code></a> - (Optional, Default: <code>&quot;instance&quot;</code>) The capacity unit to launch instances by. If not specified, when choosing the weight unit, each instance will weight as the number of its vCPUs.</p>
</li>
<li><p><a name="security_groups" /><a href="#security_groups"><code>security_groups</code></a> - (Required) A list of associated security group IDS.</p>
</li>
<li><p><a name="image_id" /><a href="#image_id"><code>image_id</code></a> - (Optional) The ID of the AMI used to launch the instance.</p>
</li>
<li><p><a name="iam_instance_profile" /><a href="#iam_instance_profile"><code>iam_instance_profile</code></a> - (Optional) The ARN or name of an IAM instance profile to associate with launched instances.</p>
</li>
<li><p><a name="key_name" /><a href="#key_name"><code>key_name</code></a> - (Optional) The key name that should be used for the instance.</p>
</li>
<li><p><a name="enable_monitoring" /><a href="#enable_monitoring"><code>enable_monitoring</code></a> - (Optional) Indicates whether monitoring is enabled for the instance.</p>
</li>
<li><p><a name="user_data" /><a href="#user_data"><code>user_data</code></a> - (Optional) The user data to provide when launching the instance.</p>
</li>
<li><p><a name="shutdown_script" /><a href="#shutdown_script"><code>shutdown_script</code></a> - (Optional) The Base64-encoded shutdown script that executes prior to instance termination, for more information please see: <a href="https://api.spotinst.com/integration-docs/elastigroup/concepts/compute-concepts/shutdown-scripts/">Shutdown Script</a></p>
</li>
<li><p><a name="ebs_optimized" /><a href="#ebs_optimized"><code>ebs_optimized</code></a> - (Optional) Enable high bandwidth connectivity between instances and AWS’s Elastic Block Store (EBS). For instance types that are EBS-optimized by default this parameter will be ignored.</p>
</li>
<li><p><a name="placement_tenancy" /><a href="#placement_tenancy"><code>placement_tenancy</code></a> - (Optional) Enable dedicated tenancy. Note: There is a flat hourly fee for each region in which dedicated tenancy is used.</p>
</li>
<li><p><a name="instance_types_ondemand" /><a href="#instance_types_ondemand"><code>instance_types_ondemand</code></a> - (Required) The type of instance determines your instance&#39;s CPU capacity, memory and storage (e.g., m1.small, c1.xlarge).</p>
</li>
<li><p><a name="instance_types_spot" /><a href="#instance_types_spot"><code>instance_types_spot</code></a> - (Required) One or more instance types.</p>
</li>
<li><p><a name="instance_types_preferred_spot" /><a href="#instance_types_preferred_spot"><code>instance_types_preferred_spot</code></a> - (Optional) Prioritize a subset of spot instance types. Must be a subset of the selected spot instance types.</p>
</li>
<li><p><a name="instance_types_weights" /><a href="#instance_types_weights"><code>instance_types_weights</code></a> - (Optional) List of weights per instance type for weighted groups. Each object in the list should have the following attributes:</p>

<ul>
<li><a name="weight" /><a href="#weight"><code>weight</code></a> - (Required) Weight per instance type (Integer).
</li>
<li><a name="instance_type" /><a href="#instance_type"><code>instance_type</code></a> - (Required) Name of instance type (String).
</li>
</ul>
</li>
<li><p><a name="fallback_to_ondemand" /><a href="#fallback_to_ondemand"><code>fallback_to_ondemand</code></a> - (Required) In a case of no Spot instances available, Elastigroup will launch on-demand instances instead.</p>
</li>
<li><p><a name="orientation" /><a href="#orientation"><code>orientation</code></a> - (Required, Default: <code>&quot;balanced&quot;</code>) Select a prediction strategy. Valid values: <code>&quot;balanced&quot;</code>, <code>&quot;costOriented&quot;</code>, <code>&quot;equalAzDistribution&quot;</code>, <code>&quot;availabilityOriented&quot;</code>.</p>
</li>
<li><p><a name="spot_percentage" /><a href="#spot_percentage"><code>spot_percentage</code></a> - (Optional; Required if not using <code>ondemand_count</code>) The percentage of Spot instances that would spin up from the <code>desired_capacity</code> number.</p>
</li>
<li><p><a name="ondemand_count" /><a href="#ondemand_count"><code>ondemand_count</code></a> - (Optional; Required if not using <code>spot_percentage</code>) Number of on demand instances to launch in the group. All other instances will be spot instances. When this parameter is set the <code>spot_percentage</code> parameter is being ignored.</p>
</li>
<li><p><a name="draining_timeout" /><a href="#draining_timeout"><code>draining_timeout</code></a> - (Optional) The time in seconds, the instance is allowed to run while detached from the ELB. This is to allow the instance time to be drained from incoming TCP connections before terminating it, during a scale down operation.</p>
</li>
<li><p><a name="utilize_reserved_instances" /><a href="#utilize_reserved_instances"><code>utilize_reserved_instances</code></a> - (Optional) In a case of any available reserved instances, Elastigroup will utilize them first before purchasing Spot instances.</p>
</li>
<li><p><a name="health_check_type" /><a href="#health_check_type"><code>health_check_type</code></a> - (Optional) The service that will perform health checks for the instance. Valid values: <code>&quot;ELB&quot;</code>, <code>&quot;HCS&quot;</code>, <code>&quot;TARGET_GROUP&quot;</code>, <code>&quot;MLB&quot;</code>, <code>&quot;EC2&quot;</code>, <code>&quot;MULTAI_TARGET_SET&quot;</code>, <code>&quot;MLB_RUNTIME&quot;</code>, <code>&quot;K8S_NODE&quot;</code>, <code>&quot;NOMAD_NODE&quot;</code>, <code>&quot;ECS_CLUSTER_INSTANCE&quot;</code>.</p>
</li>
<li><p><a name="health_check_grace_period" /><a href="#health_check_grace_period"><code>health_check_grace_period</code></a> - (Optional) The amount of time, in seconds, after the instance has launched to starts and check its health.</p>
</li>
<li><p><a name="health_check_unhealthy_duration_before_replacement" /><a href="#health_check_unhealthy_duration_before_replacement"><code>health_check_unhealthy_duration_before_replacement</code></a> - (Optional) The amount of time, in seconds, that we will wait before replacing an instance that is running and became unhealthy (this is only applicable for instances that were once healthy).</p>
</li>
<li><p><a name="tags" /><a href="#tags"><code>tags</code></a> - (Optional) A key/value mapping of tags to assign to the resource.</p>
</li>
<li><p><a name="elastic_ips" /><a href="#elastic_ips"><code>elastic_ips</code></a> - (Optional) A list of <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html">AWS Elastic IP</a> allocation IDs to associate to the group instances.</p>
</li>
<li><p><a name="revert_to_spot" /><a href="#revert_to_spot"><code>revert_to_spot</code></a> - (Optional) Hold settings for strategy correction – replacing On-Demand for Spot instances. Supported Values: <code>&quot;never&quot;</code>, <code>&quot;always&quot;</code>, <code>&quot;timeWindow&quot;</code></p>

<ul>
<li><a name="perform_at" /><a href="#perform_at"><code>perform_at</code></a> - (Required) In the event of a fallback to On-Demand instances, select the time period to revert back to Spot. Supported Arguments – always (default), timeWindow, never. For timeWindow or never to be valid the group must have availabilityOriented OR persistence defined.
</li>
<li><a name="time_windows" /><a href="#time_windows"><code>time_windows</code></a> - (Optional) Specify a list of time windows for to execute revertToSpot strategy. Time window format: <code>ddd:hh:mm-ddd:hh:mm</code>. Example: <code>Mon:03:00-Wed:02:30</code>
</li>
</ul>
</li>
</ul>
<p><a id="load-balancers"></a></p>
<h2 id="load-balancers">
  <a name="load-balancers" class="anchor" href="#load-balancers">&raquo;</a>
  Load Balancers
</h2>

<ul>
<li><a name="elastic_load_balancers" /><a href="#elastic_load_balancers"><code>elastic_load_balancers</code></a> - (Optional) List of Elastic Load Balancers names (ELB).
</li>
<li><a name="target_group_arns" /><a href="#target_group_arns"><code>target_group_arns</code></a> - (Optional) List of Target Group ARNs to register the instances to.
</li>
<li><a name="multai_target_sets" /><a href="#multai_target_sets"><code>multai_target_sets</code></a> - (Optional) Set of targets to register. 

<ul>
<li><a name="target_set_id" /><a href="#target_set_id"><code>target_set_id</code></a> - (Required) ID of Multai target set.
</li>
<li><a name="balancer_id" /><a href="#balancer_id"><code>balancer_id</code></a> - (Required) ID of Multai Load Balancer.
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">elastic_load_balancers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"bal5"</span><span class="p">,</span> <span class="s2">"bal2"</span><span class="p">]</span>
  <span class="n">target_group_arns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"tg-arn"</span><span class="p">]</span>
  <span class="n">multai_target_sets</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="n">target_set_id</span> <span class="o">=</span> <span class="s2">"ts-123"</span><span class="p">,</span>
    <span class="n">balancer_id</span>   <span class="o">=</span> <span class="s2">"bal-123"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="n">target_set_id</span> <span class="o">=</span> <span class="s2">"ts-234"</span><span class="p">,</span>
    <span class="n">balancer_id</span>   <span class="o">=</span> <span class="s2">"bal-234"</span>
  <span class="p">}]</span>
</code></pre></div><p><a id="signal"></a></p>
<h2 id="signals">
  <a name="signals" class="anchor" href="#signals">&raquo;</a>
  Signals
</h2>
<p>Each <code>signal</code> supports the following:</p>

<ul>
<li><a name="name-1" /><a href="#name-1"><code>name</code></a> - (Required) The name of the signal defined for the group. Valid Values: <code>&quot;INSTANCE_READY&quot;</code>, <code>&quot;INSTANCE_READY_TO_SHUTDOWN&quot;</code>
</li>
<li><a name="timeout" /><a href="#timeout"><code>timeout</code></a> - (Optional) The signals defined timeout- default is 40 minutes (1800 seconds).
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">signal</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">name</span>    <span class="o">=</span> <span class="s2">"INSTANCE_READY_TO_SHUTDOWN"</span>
    <span class="n">timeout</span> <span class="o">=</span> <span class="mi">100</span>
  <span class="p">}</span>
</code></pre></div><p><a id="scheduled-task"></a></p>
<h2 id="scheduled-tasks">
  <a name="scheduled-tasks" class="anchor" href="#scheduled-tasks">&raquo;</a>
  Scheduled Tasks
</h2>
<p>Each <code>scheduled_task</code> supports the following:</p>

<ul>
<li><a name="task_type" /><a href="#task_type"><code>task_type</code></a> - (Required) The task type to run. Supported task types are: <code>&quot;scale&quot;</code>, <code>&quot;backup_ami&quot;</code>, <code>&quot;roll&quot;</code>, <code>&quot;scaleUp&quot;</code>, <code>&quot;percentageScaleUp&quot;</code>, <code>&quot;scaleDown&quot;</code>, <code>&quot;percentageScaleDown&quot;</code>, <code>&quot;statefulUpdateCapacity&quot;</code>.
</li>
<li><a name="cron_expression" /><a href="#cron_expression"><code>cron_expression</code></a> - (Optional; Required if not using <code>frequency</code>) A valid cron expression. The cron is running in UTC time zone and is in <a href="https://en.wikipedia.org/wiki/Cron">Unix cron format</a>.
</li>
<li><a name="start_time" /><a href="#start_time"><code>start_time</code></a> - (Optional; Format: ISO 8601) Set a start time for one time tasks.
</li>
<li><a name="frequency" /><a href="#frequency"><code>frequency</code></a> - (Optional; Required if not using <code>cron_expression</code>) The recurrence frequency to run this task. Supported values are <code>&quot;hourly&quot;</code>, <code>&quot;daily&quot;</code>, <code>&quot;weekly&quot;</code> and <code>&quot;continuous&quot;</code>.
</li>
<li><a name="scale_target_capacity" /><a href="#scale_target_capacity"><code>scale_target_capacity</code></a> - (Optional) The desired number of instances the group should have.
</li>
<li><a name="scale_min_capacity" /><a href="#scale_min_capacity"><code>scale_min_capacity</code></a> - (Optional) The minimum number of instances the group should have.
</li>
<li><a name="scale_max_capacity" /><a href="#scale_max_capacity"><code>scale_max_capacity</code></a> - (Optional) The maximum number of instances the group should have.
</li>
<li><a name="is_enabled" /><a href="#is_enabled"><code>is_enabled</code></a> - (Optional, Default: <code>false</code>) Setting the task to being enabled or disabled. Valid values: true, false.
</li>
<li><a name="target_capacity" /><a href="#target_capacity"><code>target_capacity</code></a> - (Optional; Only valid for statefulUpdateCapacity) The desired number of instances the group should have.
</li>
<li><a name="min_capacity" /><a href="#min_capacity"><code>min_capacity</code></a> - (Optional; Only valid for statefulUpdateCapacity) The minimum number of instances the group should have.
</li>
<li><a name="max_capacity" /><a href="#max_capacity"><code>max_capacity</code></a> - (Optional; Only valid for statefulUpdateCapacity) The maximum number of instances the group should have.
</li>
<li><a name="batch_size_percentage" /><a href="#batch_size_percentage"><code>batch_size_percentage</code></a> - (Optional; Required when the <code>task_type</code> is <code>&quot;roll&quot;</code>.) The percentage size of each batch in the scheduled deployment roll.
</li>
<li><a name="grace_period" /><a href="#grace_period"><code>grace_period</code></a> - (Optional) The period of time (seconds) to wait before checking a batch&#39;s health after it&#39;s deployment. 
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">scheduled_task</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="n">task_type</span>             <span class="o">=</span> <span class="s2">"backup_ami"</span>
    <span class="n">cron_expression</span>       <span class="o">=</span> <span class="s2">""</span>
    <span class="n">start_time</span>            <span class="o">=</span> <span class="s2">"1970-01-01T01:00:00Z"</span>
    <span class="n">frequency</span>             <span class="o">=</span> <span class="s2">"hourly"</span>
    <span class="n">scale_target_capacity</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">scale_min_capacity</span>    <span class="o">=</span> <span class="mi">0</span>
    <span class="n">scale_max_capacity</span>    <span class="o">=</span> <span class="mi">10</span>
    <span class="n">is_enabled</span>            <span class="o">=</span> <span class="kp">false</span>
    <span class="n">target_capacity</span>       <span class="o">=</span> <span class="mi">5</span>
    <span class="n">min_capacity</span>          <span class="o">=</span> <span class="mi">0</span>
    <span class="n">max_capacity</span>          <span class="o">=</span> <span class="mi">10</span>
    <span class="n">batch_size_percentage</span> <span class="o">=</span> <span class="mi">33</span>
    <span class="n">grace_period</span>          <span class="o">=</span> <span class="mi">300</span>
  <span class="p">}]</span>
</code></pre></div><p><a id="scaling-policy"></a></p>
<h2 id="scaling-policies">
  <a name="scaling-policies" class="anchor" href="#scaling-policies">&raquo;</a>
  Scaling Policies
</h2>
<p>Each <code>scaling_*_policy</code> supports the following:</p>

<ul>
<li><a name="namespace" /><a href="#namespace"><code>namespace</code></a> - (Required) The namespace for the alarm&#39;s associated metric.
</li>
<li><a name="metric_name" /><a href="#metric_name"><code>metric_name</code></a> - (Required) The name of the metric, with or without spaces.
</li>
<li><a name="threshold" /><a href="#threshold"><code>threshold</code></a> - (Required) The value against which the specified statistic is compared.
</li>
<li><a name="policy_name" /><a href="#policy_name"><code>policy_name</code></a> - (Required) The name of the policy.
</li>
<li><a name="statistic" /><a href="#statistic"><code>statistic</code></a> - (Optional, Default: <code>&quot;average&quot;</code>) The metric statistics to return. For information about specific statistics go to <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/index.html?CHAP_TerminologyandKeyConcepts.html#Statistic">Statistics</a> in the Amazon CloudWatch Developer Guide.
</li>
<li><a name="unit" /><a href="#unit"><code>unit</code></a> - (Required) The unit for the alarm&#39;s associated metric. Valid values: <code>&quot;percent</code>, <code>&quot;seconds&quot;</code>, <code>&quot;microseconds&quot;</code>, <code>&quot;milliseconds&quot;</code>, <code>&quot;bytes&quot;</code>, <code>&quot;kilobytes&quot;</code>, <code>&quot;megabytes&quot;</code>, <code>&quot;gigabytes&quot;</code>, <code>&quot;terabytes&quot;</code>, <code>&quot;bits&quot;</code>, <code>&quot;kilobits&quot;</code>, <code>&quot;megabits&quot;</code>, <code>&quot;gigabits&quot;</code>, <code>&quot;terabits&quot;</code>, <code>&quot;count&quot;</code>, <code>&quot;bytes/second&quot;</code>, <code>&quot;kilobytes/second&quot;</code>, <code>&quot;megabytes/second&quot;</code>, <code>&quot;gigabytes/second&quot;</code>, <code>&quot;terabytes/second&quot;</code>, <code>&quot;bits/second&quot;</code>, <code>&quot;kilobits/second&quot;</code>, <code>&quot;megabits/second&quot;</code>, <code>&quot;gigabits/second&quot;</code>, <code>&quot;terabits/second&quot;</code>, <code>&quot;count/second&quot;</code>, <code>&quot;none&quot;</code>.<br/>
</li>
<li><a name="period" /><a href="#period"><code>period</code></a> - (Optional, Default: <code>300</code>) The granularity, in seconds, of the returned datapoints. Period must be at least 60 seconds and must be a multiple of 60.
</li>
<li><a name="evaluation_periods" /><a href="#evaluation_periods"><code>evaluation_periods</code></a> - (Optional, Default: <code>1</code>) The number of periods over which data is compared to the specified threshold.
</li>
<li><a name="cooldown" /><a href="#cooldown"><code>cooldown</code></a> - (Optional, Default: <code>300</code>) The amount of time, in seconds, after a scaling activity completes and before the next scaling activity can start. If this parameter is not specified, the default cooldown period for the group applies.
</li>
<li><a name="dimensions" /><a href="#dimensions"><code>dimensions</code></a> - (Optional) A mapping of dimensions describing qualities of the metric.
</li>
<li><a name="operator" /><a href="#operator"><code>operator</code></a> - (Optional, Scale Up Default: <code>gte</code>, Scale Down Default: <code>lte</code>) The operator to use in order to determine if the scaling policy is applicable. Valid values: <code>&quot;gt&quot;</code>, <code>&quot;gte&quot;</code>, <code>&quot;lt&quot;</code>, <code>&quot;lte&quot;</code>.
</li>
<li><p><a name="source" /><a href="#source"><code>source</code></a> - (Optional) The source of the metric. Valid values: <code>&quot;cloudWatch&quot;</code>, <code>&quot;spectrum&quot;</code>.</p>
</li>
<li><p><a name="action_type" /><a href="#action_type"><code>action_type</code></a> - (Optional; if not using <code>min_target_capacity</code> or <code>max_target_capacity</code>) The type of action to perform for scaling. Valid values: <code>&quot;adjustment&quot;</code>, <code>&quot;percentageAdjustment&quot;</code>, <code>&quot;setMaxTarget&quot;</code>, <code>&quot;setMinTarget&quot;</code>, <code>&quot;updateCapacity&quot;</code>.</p>
</li>
</ul>
<p>If you do not specify an action type, you can only use – <code>adjustment</code>, <code>minTargetCapacity</code>, <code>maxTargetCapacity</code>.
While using action_type, please also set the following:</p>
<p>When using <code>adjustment</code>           – set the field <code>adjustment</code>
When using <code>percentageAdjustment</code> - set the field <code>adjustment</code>
When using <code>setMaxTarget</code>         – set the field <code>max_target_capacity</code>
When using <code>setMinTarget</code>         – set the field <code>min_target_capacity</code>
When using <code>updateCapacity</code>       – set the fields <code>minimum</code>, <code>maximum</code>, and <code>target</code></p>

<ul>
<li><a name="adjustment" /><a href="#adjustment"><code>adjustment</code></a> - (Optional; if not using <code>min_target_capacity</code> or <code>max_target_capacity</code>;) The number of instances to add/remove to/from the target capacity when scale is needed. Can be used as advanced expression for scaling of instances to add/remove to/from the target capacity when scale is needed. You can see more information here: Advanced expression. Example value: <code>&quot;MAX(currCapacity / 5, value * 10)&quot;</code>
</li>
<li><a name="min_target_capacity" /><a href="#min_target_capacity"><code>min_target_capacity</code></a> - (Optional; if not using <code>adjustment</code>; available only for scale up). The number of the desired target (and minimum) capacity
</li>
<li><p><a name="max_target_capacity" /><a href="#max_target_capacity"><code>max_target_capacity</code></a> - (Optional; if not using <code>adjustment</code>; available only for scale down). The number of the desired target (and maximum) capacity</p>
</li>
<li><p><a name="minimum" /><a href="#minimum"><code>minimum</code></a> - (Optional; if using <code>updateCapacity</code>) The minimal number of instances to have in the group.</p>
</li>
<li><p><a name="maximum" /><a href="#maximum"><code>maximum</code></a> - (Optional; if using <code>updateCapacity</code>) The maximal number of instances to have in the group.</p>
</li>
<li><p><a name="target" /><a href="#target"><code>target</code></a> - (Optional; if using <code>updateCapacity</code>) The target number of instances to have in the group.</p>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">scaling_up_policy</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="n">policy_name</span> <span class="o">=</span> <span class="s2">"policy-name"</span>
    <span class="n">metric_name</span> <span class="o">=</span> <span class="s2">"CPUUtilization"</span>
    <span class="n">namespace</span>   <span class="o">=</span> <span class="s2">"AWS/EC2"</span>
    <span class="n">source</span>      <span class="o">=</span> <span class="s2">""</span>
    <span class="n">statistic</span>   <span class="o">=</span> <span class="s2">"average"</span>
    <span class="n">unit</span>        <span class="o">=</span> <span class="s2">""</span>
    <span class="n">cooldown</span>    <span class="o">=</span> <span class="mi">60</span>

    <span class="n">dimensions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nb">name</span>  <span class="o">=</span> <span class="s2">"name-1"</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">"value-1"</span>
    <span class="p">}</span>

    <span class="n">threshold</span>          <span class="o">=</span> <span class="mi">10</span>
    <span class="n">operator</span>           <span class="o">=</span> <span class="s2">"gt"</span>
    <span class="n">evaluation_periods</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">period</span>             <span class="o">=</span> <span class="mi">60</span>

    <span class="sr">//</span> <span class="o">===</span> <span class="no">MIN</span> <span class="no">TARGET</span> <span class="o">===================</span>
    <span class="n">action_type</span>         <span class="o">=</span> <span class="s2">"setMinTarget"</span>
    <span class="n">min_target_capacity</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="sr">//</span> <span class="o">==================================</span>

    <span class="sr">//</span> <span class="o">===</span> <span class="no">ADJUSTMENT</span> <span class="o">===================</span>
    <span class="c1"># action_type = "adjustment"</span>
    <span class="c1"># action_type = "percentageAdjustment"</span>
    <span class="c1"># adjustment  = "MAX(5,10)"</span>
    <span class="sr">//</span> <span class="o">==================================</span>

    <span class="sr">//</span> <span class="o">===</span> <span class="no">UPDATE</span> <span class="no">CAPACITY</span> <span class="o">==============</span>
    <span class="c1"># action_type = "updateCapacity"</span>
    <span class="c1"># minimum     = 0</span>
    <span class="c1"># maximum     = 10</span>
    <span class="c1"># target      = 5</span>
    <span class="sr">//</span> <span class="o">==================================</span>

  <span class="p">}]</span>
</code></pre></div><div class="highlight"><pre class="highlight hcl"><code>  <span class="n">scaling_target_policy</span> <span class="o">=</span> <span class="p">[{</span>
      <span class="n">policy_name</span> <span class="o">=</span> <span class="s2">""</span>
      <span class="n">metric_name</span> <span class="o">=</span> <span class="s2">""</span>
      <span class="n">namespace</span>   <span class="o">=</span> <span class="s2">""</span>
      <span class="n">source</span>      <span class="o">=</span> <span class="s2">""</span>
      <span class="n">statistic</span>   <span class="o">=</span> <span class="s2">""</span>
      <span class="n">unit</span>        <span class="o">=</span> <span class="s2">""</span>
      <span class="n">cooldown</span>    <span class="o">=</span> <span class="mi">10</span>
      <span class="n">target</span>      <span class="o">=</span> <span class="mi">1</span>

      <span class="n">dimensions</span> <span class="o">=</span> <span class="p">[{</span>
        <span class="nb">name</span>  <span class="o">=</span> <span class="s2">""</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">""</span>
      <span class="p">}]</span>
  <span class="p">}]</span>
</code></pre></div><p><a id="network-interface"></a></p>
<h2 id="network-interfaces">
  <a name="network-interfaces" class="anchor" href="#network-interfaces">&raquo;</a>
  Network Interfaces
</h2>
<p>Each of the <code>network_interface</code> attributes controls a portion of the AWS
Instance&#39;s &quot;Elastic Network Interfaces&quot;. It&#39;s a good idea to familiarize yourself with <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html">AWS&#39;s Elastic Network
Interfaces docs</a>
to understand the implications of using these attributes.</p>

<ul>
<li><a name="network_interface_id" /><a href="#network_interface_id"><code>network_interface_id</code></a> - (Optional) The ID of the network interface.
</li>
<li><a name="device_index" /><a href="#device_index"><code>device_index</code></a> - (Required) The index of the device on the instance for the network interface attachment.
</li>
<li><a name="description-1" /><a href="#description-1"><code>description</code></a> - (Required) The description of the network interface.
</li>
<li><a name="private_ip_address" /><a href="#private_ip_address"><code>private_ip_address</code></a> - (Optional) The private IP address of the network interface.
</li>
<li><a name="delete_on_termination" /><a href="#delete_on_termination"><code>delete_on_termination</code></a> - (Optional) If set to true, the interface is deleted when the instance is terminated.
</li>
<li><a name="secondary_private_ip_address_count" /><a href="#secondary_private_ip_address_count"><code>secondary_private_ip_address_count</code></a> - (Optional) The number of secondary private IP addresses.
</li>
<li><a name="associate_public_ip_address" /><a href="#associate_public_ip_address"><code>associate_public_ip_address</code></a> - (Optional) Indicates whether to assign a public IP address to an instance you launch in a VPC. The public IP address can only be assigned to a network interface for eth0, and can only be assigned to a new network interface, not an existing one.
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">network_interface</span> <span class="o">=</span> <span class="p">[{</span> 
    <span class="n">network_interface_id</span>               <span class="o">=</span> <span class="s2">""</span> 
    <span class="n">device_index</span>                       <span class="o">=</span> <span class="mi">1</span>
    <span class="n">description</span>                        <span class="o">=</span> <span class="s2">"nic description in here"</span>
    <span class="n">private_ip_address</span>                 <span class="o">=</span> <span class="s2">"1.1.1.1"</span>
    <span class="n">delete_on_termination</span>              <span class="o">=</span> <span class="kp">false</span>
    <span class="n">secondary_private_ip_address_count</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">associate_public_ip_address</span>        <span class="o">=</span> <span class="kp">true</span>
  <span class="p">}]</span>
</code></pre></div><p><a id="block-devices"></a></p>
<h2 id="block-devices">
  <a name="block-devices" class="anchor" href="#block-devices">&raquo;</a>
  Block Devices
</h2>
<p>Each of the <code>*_block_device</code> attributes controls a portion of the AWS
Instance&#39;s &quot;Block Device Mapping&quot;. It&#39;s a good idea to familiarize yourself with <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html">AWS&#39;s Block Device
Mapping docs</a>
to understand the implications of using these attributes.</p>
<p>Each <code>ebs_block_device</code> supports the following:</p>

<ul>
<li><a name="device_name" /><a href="#device_name"><code>device_name</code></a> - (Required) The name of the device to mount.
</li>
<li><a name="snapshot_id" /><a href="#snapshot_id"><code>snapshot_id</code></a> - (Optional) The Snapshot ID to mount.
</li>
<li><a name="volume_type" /><a href="#volume_type"><code>volume_type</code></a> - (Optional, Default: <code>&quot;standard&quot;</code>) The type of volume. Can be <code>&quot;standard&quot;</code>, <code>&quot;gp2&quot;</code>, <code>&quot;io1&quot;</code>, <code>&quot;st1&quot;</code> or <code>&quot;sc1&quot;</code>.
</li>
<li><a name="volume_size" /><a href="#volume_size"><code>volume_size</code></a> - (Optional) The size of the volume in gigabytes.
</li>
<li><a name="iops" /><a href="#iops"><code>iops</code></a> - (Optional) The amount of provisioned <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html">IOPS</a>. This must be set with a <code>volume_type</code> of <code>&quot;io1&quot;</code>.
</li>
<li><a name="delete_on_termination-1" /><a href="#delete_on_termination-1"><code>delete_on_termination</code></a> - (Optional) Whether the volume should be destroyed on instance termination.
</li>
<li><a name="encrypted" /><a href="#encrypted"><code>encrypted</code></a> - (Optional) Enables <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html">EBS encryption</a> on the volume.
</li>
<li><a name="kms_key_id" /><a href="#kms_key_id"><code>kms_key_id</code></a> - (Optional) ID for a user managed CMK under which the EBS Volume is encrypted
</li>
</ul>
<p>Modifying any <code>ebs_block_device</code> currently requires resource replacement.</p>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">ebs_block_device</span> <span class="o">=</span> <span class="p">[{</span>
     <span class="n">device_name</span>           <span class="o">=</span> <span class="s2">"/dev/sdb"</span> 
     <span class="n">snapshot_id</span>           <span class="o">=</span> <span class="s2">""</span> 
     <span class="n">volume_type</span>           <span class="o">=</span> <span class="s2">"gp2"</span>  
     <span class="n">volume_size</span>           <span class="o">=</span> <span class="mi">8</span>
     <span class="n">iops</span>                  <span class="o">=</span> <span class="mi">1</span>
     <span class="n">delete_on_termination</span> <span class="o">=</span> <span class="kp">true</span>
     <span class="n">encrypted</span>             <span class="o">=</span> <span class="kp">false</span>
     <span class="n">kms_key_id</span>            <span class="o">=</span> <span class="s2">"kms-key-01"</span>
   <span class="p">},</span>
   <span class="p">{</span>
     <span class="n">device_name</span>           <span class="o">=</span> <span class="s2">"/dev/sdc"</span> 
     <span class="n">snapshot_id</span>           <span class="o">=</span> <span class="s2">""</span> 
     <span class="n">volume_type</span>           <span class="o">=</span> <span class="s2">"gp2"</span>  
     <span class="n">volume_size</span>           <span class="o">=</span> <span class="mi">8</span>  
     <span class="n">iops</span>                  <span class="o">=</span> <span class="mi">1</span>
     <span class="n">delete_on_termination</span> <span class="o">=</span> <span class="kp">true</span>
     <span class="n">encrypted</span>             <span class="o">=</span> <span class="kp">true</span>
     <span class="n">kms_key_id</span>            <span class="o">=</span> <span class="s2">"kms-key-02"</span>
  <span class="p">}]</span>
</code></pre></div><p>Each <code>ephemeral_block_device</code> supports the following:</p>

<ul>
<li><a name="device_name-1" /><a href="#device_name-1"><code>device_name</code></a> - (Required) The name of the block device to mount on the instance.
</li>
<li><a name="virtual_name" /><a href="#virtual_name"><code>virtual_name</code></a> - (Required) The <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#InstanceStoreDeviceNames">Instance Store Device Name</a>
(e.g. <code>&quot;ephemeral0&quot;</code>).
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">ephemeral_block_device</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="n">device_name</span>  <span class="o">=</span> <span class="s2">"/dev/xvdc"</span>
    <span class="n">virtual_name</span> <span class="o">=</span> <span class="s2">"ephemeral0"</span>
  <span class="p">}]</span>
</code></pre></div><p><a id="stateful"></a></p>
<h2 id="stateful">
  <a name="stateful" class="anchor" href="#stateful">&raquo;</a>
  Stateful
</h2>
<p>We support instance persistence via the following configurations. all values are boolean.
For more information on instance persistence please see: <a href="https://api.spotinst.com/integration-docs/elastigroup/concepts/stateful-concepts/introduction/">Stateful configuration</a></p>

<ul>
<li><a name="persist_root_device" /><a href="#persist_root_device"><code>persist_root_device</code></a> - (Optional) Boolean, should the instance maintain its root device volumes.
</li>
<li><a name="persist_block_devices" /><a href="#persist_block_devices"><code>persist_block_devices</code></a> - (Optional) Boolean, should the instance maintain its Data volumes.
</li>
<li><a name="persist_private_ip" /><a href="#persist_private_ip"><code>persist_private_ip</code></a> - (Optional) Boolean, should the instance maintain its private IP.
</li>
<li><a name="block_devices_mode" /><a href="#block_devices_mode"><code>block_devices_mode</code></a> - (Optional) String, determine the way we attach the data volumes to the data devices, possible values: <code>&quot;reattach&quot;</code> and <code>&quot;onLaunch&quot;</code> (default is onLaunch).
</li>
<li><a name="private_ips" /><a href="#private_ips"><code>private_ips</code></a> - (Optional) List of Private IPs to associate to the group instances.(e.g. &quot;172.1.1.0&quot;). Please note: This setting will only apply if persistence.persist_private_ip is set to true.
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">persist_root_device</span>   <span class="o">=</span> <span class="kp">false</span>
  <span class="n">persist_block_devices</span> <span class="o">=</span> <span class="kp">false</span>
  <span class="n">persist_private_ip</span>    <span class="o">=</span> <span class="kp">true</span>
  <span class="n">block_devices_mode</span>    <span class="o">=</span> <span class="s2">"onLaunch"</span>
  <span class="n">private_ips</span>           <span class="o">=</span> <span class="p">[</span><span class="s2">"1.1.1.1"</span><span class="p">,</span> <span class="s2">"2.2.2.2"</span><span class="p">]</span>
</code></pre></div><p><a id="stateful-deallocation"></a></p>
<h2 id="stateful-deallocation">
  <a name="stateful-deallocation" class="anchor" href="#stateful-deallocation">&raquo;</a>
  Stateful Deallocation
</h2>

<ul>
<li><a name="stateful_deallocation" /><a href="#stateful_deallocation"><code>stateful_deallocation</code></a> - (Optional)

<ul>
<li><a name="should_delete_images" /><a href="#should_delete_images"><code>should_delete_images</code></a> - (Optional) For stateful groups: remove persistent images.
</li>
<li><a name="should_delete_network_interfaces" /><a href="#should_delete_network_interfaces"><code>should_delete_network_interfaces</code></a> - (Optional) For stateful groups: remove network interfaces.
</li>
<li><a name="should_delete_volumes" /><a href="#should_delete_volumes"><code>should_delete_volumes</code></a> - (Optional) For stateful groups: remove persistent volumes.
</li>
<li><a name="should_delete_snapshots" /><a href="#should_delete_snapshots"><code>should_delete_snapshots</code></a> - (Optional) For stateful groups: remove snapshots.
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">stateful_deallocation</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">should_delete_images</span>              <span class="o">=</span> <span class="kp">false</span>
     <span class="n">should_delete_network_interfaces</span>  <span class="o">=</span> <span class="kp">false</span>
     <span class="n">should_delete_volumes</span>             <span class="o">=</span> <span class="kp">false</span>
     <span class="n">should_delete_snapshots</span>           <span class="o">=</span> <span class="kp">false</span>
   <span class="p">}</span>
</code></pre></div><p><a id="health-check"></a></p>
<h2 id="health-check">
  <a name="health-check" class="anchor" href="#health-check">&raquo;</a>
  Health Check
</h2>

<ul>
<li><a name="health_check_type-1" /><a href="#health_check_type-1"><code>health_check_type</code></a> - (Optional) The service that will perform health checks for the instance. Supported values : <code>&quot;ELB&quot;</code>, <code>&quot;HCS&quot;</code>, <code>&quot;TARGET_GROUP&quot;</code>, <code>&quot;CUSTOM&quot;</code>, <code>&quot;K8S_NODE&quot;</code>, <code>&quot;MLB&quot;</code>, <code>&quot;EC2&quot;</code>, <code>&quot;MULTAI_TARGET_SET&quot;</code>, <code>&quot;MLB_RUNTIME&quot;</code>, <code>&quot;K8S_NODE&quot;</code>, <code>&quot;NOMAD_NODE&quot;</code>, <code>&quot;ECS_CLUSTER_INSTANCE&quot;</code>.
</li>
<li><a name="health_check_grace_period-1" /><a href="#health_check_grace_period-1"><code>health_check_grace_period</code></a> - (Optional) The amount of time, in seconds, after the instance has launched to starts and check its health
</li>
<li><a name="health_check_unhealthy_duration_before_replacement-1" /><a href="#health_check_unhealthy_duration_before_replacement-1"><code>health_check_unhealthy_duration_before_replacement</code></a> - (Optional) The amount of time, in seconds, that we will wait before replacing an instance that is running and became unhealthy (this is only applicable for instances that were once healthy)
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">health_check_type</span>                                  <span class="o">=</span> <span class="s2">"ELB"</span> 
  <span class="n">health_check_grace_period</span>                          <span class="o">=</span> <span class="mi">100</span>
  <span class="n">health_check_unhealthy_duration_before_replacement</span> <span class="o">=</span> <span class="mi">120</span>
</code></pre></div><p><a id="third-party-integrations"></a></p>
<h2 id="third-party-integrations">
  <a name="third-party-integrations" class="anchor" href="#third-party-integrations">&raquo;</a>
  Third-Party Integrations
</h2>

<ul>
<li><p><a name="integration_rancher" /><a href="#integration_rancher"><code>integration_rancher</code></a> - (Optional) Describes the <a href="http://rancherlabs.com/">Rancher</a> integration.</p>

<ul>
<li><a name="master_host" /><a href="#master_host"><code>master_host</code></a> - (Required) The URL of the Rancher Master host.
</li>
<li><a name="access_key" /><a href="#access_key"><code>access_key</code></a> - (Required) The access key of the Rancher API.
</li>
<li><a name="secret_key" /><a href="#secret_key"><code>secret_key</code></a> - (Required) The secret key of the Rancher API.
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">integration_rancher</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">master_host</span> <span class="o">=</span> <span class="s2">"master_host"</span>
    <span class="n">access_key</span>  <span class="o">=</span> <span class="s2">"access_key"</span>
    <span class="n">secret_key</span>  <span class="o">=</span> <span class="s2">"secret_key"</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_ecs" /><a href="#integration_ecs"><code>integration_ecs</code></a> - (Optional) Describes the <a href="https://aws.amazon.com/documentation/ecs/?id=docs_gateway">EC2 Container Service</a> integration.</p>

<ul>
<li><a name="cluster_name" /><a href="#cluster_name"><code>cluster_name</code></a> - (Required) The name of the EC2 Container Service cluster.
</li>
<li><a name="autoscale_is_enabled" /><a href="#autoscale_is_enabled"><code>autoscale_is_enabled</code></a> - (Optional, Default: <code>false</code>) Specifies whether the auto scaling feature is enabled.
</li>
<li><a name="autoscale_cooldown" /><a href="#autoscale_cooldown"><code>autoscale_cooldown</code></a> - (Optional, Default: <code>300</code>) The amount of time, in seconds, after a scaling activity completes before any further trigger-related scaling activities can start.
</li>
<li><a name="autoscale_is_auto_config" /><a href="#autoscale_is_auto_config"><code>autoscale_is_auto_config</code></a> - (Optional, Default: <code>false</code>) Enabling the automatic auto-scaler functionality. For more information please see: <a href="https://api.spotinst.com/container-management/amazon-ecs/elastigroup-for-ecs-concepts/autoscaling/">ECS auto scaler</a>.
</li>
<li><a name="autoscale_headroom" /><a href="#autoscale_headroom"><code>autoscale_headroom</code></a> - (Optional) Headroom for the cluster.

<ul>
<li><a name="cpu_per_unit" /><a href="#cpu_per_unit"><code>cpu_per_unit</code></a> - (Optional, Default: <code>0</code>) Cpu units for compute.
</li>
<li><a name="memory_per_unit" /><a href="#memory_per_unit"><code>memory_per_unit</code></a> - (Optional, Default: <code>0</code>) RAM units for compute.
</li>
<li><a name="num_of_units" /><a href="#num_of_units"><code>num_of_units</code></a> - (Optional, Default: <code>0</code>) Amount of units for compute.
</li>
</ul>
</li>
<li><a name="autoscale_down" /><a href="#autoscale_down"><code>autoscale_down</code></a> - (Optional) Enabling scale down.

<ul>
<li><a name="evaluation_periods-1" /><a href="#evaluation_periods-1"><code>evaluation_periods</code></a> - (Optional, Default: <code>5</code>) Amount of cooldown evaluation periods for scale down.
</li>
</ul>
</li>
<li><a name="autoscale_attributes" /><a href="#autoscale_attributes"><code>autoscale_attributes</code></a> - (Optional) A key/value mapping of tags to assign to the resource.
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">integration_ecs</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="n">cluster_name</span>         <span class="o">=</span> <span class="s2">"ecs-cluster"</span>
    <span class="n">autoscale_is_enabled</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="n">autoscale_cooldown</span>   <span class="o">=</span> <span class="mi">300</span>

    <span class="n">autoscale_headroom</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">cpu_per_unit</span>    <span class="o">=</span> <span class="mi">1024</span>
      <span class="n">memory_per_unit</span> <span class="o">=</span> <span class="mi">512</span>
      <span class="n">num_of_units</span>    <span class="o">=</span> <span class="mi">2</span>
    <span class="p">}</span>

    <span class="n">autoscale_down</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">evaluation_periods</span> <span class="o">=</span> <span class="mi">300</span>
    <span class="p">}</span>

    <span class="n">autoscale_attributes</span> <span class="o">=</span> <span class="p">[{</span>
      <span class="n">key</span>   <span class="o">=</span> <span class="s2">"test.ecs.key"</span>
      <span class="n">value</span> <span class="o">=</span> <span class="s2">"test.ecs.value"</span>
    <span class="p">}]</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_codedeploy" /><a href="#integration_codedeploy"><code>integration_codedeploy</code></a> - (Optional) Describes the <a href="https://aws.amazon.com/documentation/codedeploy/?id=docs_gateway">Code Deploy</a> integration.</p>

<ul>
<li><a name="cleanup_on_failure" /><a href="#cleanup_on_failure"><code>cleanup_on_failure</code></a> - (Optional) Cleanup automatically after a failed deploy.
</li>
<li><a name="terminate_instance_on_failure" /><a href="#terminate_instance_on_failure"><code>terminate_instance_on_failure</code></a> - (Optional) Terminate the instance automatically after a failed deploy.
</li>
<li><a name="deployment_groups" /><a href="#deployment_groups"><code>deployment_groups</code></a> - (Optional) Specify the deployment groups details.

<ul>
<li><a name="application_name" /><a href="#application_name"><code>application_name</code></a> - (Optional) The application name.
</li>
<li><a name="deployment_group_name" /><a href="#deployment_group_name"><code>deployment_group_name</code></a> - (Optional) The deployment group name.
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">integration_codedeploy</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">cleanup_on_failure</span>            <span class="o">=</span> <span class="kp">false</span>
    <span class="n">terminate_instance_on_failure</span> <span class="o">=</span> <span class="kp">false</span>

    <span class="n">deployment_groups</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">application_name</span>      <span class="o">=</span> <span class="s2">"my-app"</span>
      <span class="n">deployment_group_name</span> <span class="o">=</span> <span class="s2">"my-group"</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_route53" /><a href="#integration_route53"><code>integration_route53</code></a> - (Optional) Describes the <a href="https://aws.amazon.com/documentation/route53/?id=docs_gateway">Route53</a> integration.</p>

<ul>
<li><a name="domains" /><a href="#domains"><code>domains</code></a> - (Required) Collection of one or more domains to register.

<ul>
<li><a name="hosted_zone_id" /><a href="#hosted_zone_id"><code>hosted_zone_id</code></a> - (Required) The id associated with a hosted zone.
</li>
<li><a name="record_sets" /><a href="#record_sets"><code>record_sets</code></a> - (Required) Collection of records containing authoritative DNS information for the specified domain name.

<ul>
<li><a name="name-2" /><a href="#name-2"><code>name</code></a> - (Required) The record set name.
</li>
<li><a name="use_public_ip" /><a href="#use_public_ip"><code>use_public_ip</code></a> - (Optional, Default: <code>false</code>) - Designates if the IP address should be exposed to connections outside the VPC.
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>    <span class="n">integration_route53</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">domains</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">hosted_zone_id</span> <span class="o">=</span> <span class="s2">"zone-id"</span>

        <span class="n">record_sets</span> <span class="o">=</span> <span class="p">{</span>
          <span class="nb">name</span>          <span class="o">=</span> <span class="s2">"foo.example.com"</span>
          <span class="n">use_public_ip</span> <span class="o">=</span> <span class="kp">true</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_docker_swarm" /><a href="#integration_docker_swarm"><code>integration_docker_swarm</code></a> - (Optional) Describes the <a href="https://api.spotinst.com/integration-docs/elastigroup/container-management/docker-swarm/docker-swarm-integration/">Docker Swarm</a> integration.</p>

<ul>
<li><a name="master_host-1" /><a href="#master_host-1"><code>master_host</code></a> - (Required) IP or FQDN of one of your swarm managers.
</li>
<li><a name="master_port" /><a href="#master_port"><code>master_port</code></a> - (Required) Network port used by your swarm.
</li>
<li><a name="autoscale_is_enabled-1" /><a href="#autoscale_is_enabled-1"><code>autoscale_is_enabled</code></a> - (Optional, Default: <code>false</code>) Specifies whether the auto scaling feature is enabled.
</li>
<li><a name="autoscale_cooldown-1" /><a href="#autoscale_cooldown-1"><code>autoscale_cooldown</code></a> - (Optional, Default: <code>300</code>) The amount of time, in seconds, after a scaling activity completes before any further trigger-related scaling activities can start. Minimum 180, must be a multiple of 60.
</li>
<li><a name="autoscale_headroom-1" /><a href="#autoscale_headroom-1"><code>autoscale_headroom</code></a> - (Optional) An option to set compute reserve for the cluster.

<ul>
<li><a name="cpu_per_unit-1" /><a href="#cpu_per_unit-1"><code>cpu_per_unit</code></a> - (Optional, Default: <code>0</code>) How much CPU to allocate for headroom unit.
</li>
<li><a name="memory_per_unit-1" /><a href="#memory_per_unit-1"><code>memory_per_unit</code></a> - (Optional, Default: <code>0</code>) The amount of memory in each headroom unit. Measured in MiB.
</li>
<li><a name="num_of_units-1" /><a href="#num_of_units-1"><code>num_of_units</code></a> - (Optional, Default: <code>0</code>) How many units to allocate for headroom unit.
</li>
</ul>
</li>
<li><a name="autoscale_down-1" /><a href="#autoscale_down-1"><code>autoscale_down</code></a> - (Optional) Setting for scale down actions.

<ul>
<li><a name="evaluation_periods-2" /><a href="#evaluation_periods-2"><code>evaluation_periods</code></a> - (Optional, Default: <code>5</code>) Number of periods over which data is compared. Minimum 3, Measured in consecutive minutes.
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code><span class="n">integration_docker_swarm</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">master_host</span>          <span class="o">=</span> <span class="s2">"10.10.10.10"</span>
    <span class="n">master_port</span>          <span class="o">=</span> <span class="mi">2376</span>
    <span class="n">autoscale_is_enabled</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">autoscale_cooldown</span>   <span class="o">=</span> <span class="mi">180</span>

    <span class="n">autoscale_headroom</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">cpu_per_unit</span>    <span class="o">=</span> <span class="mi">2048</span>
        <span class="n">memory_per_unit</span> <span class="o">=</span> <span class="mi">2048</span>
        <span class="n">num_of_units</span>    <span class="o">=</span> <span class="mi">1</span>
    <span class="p">}</span>

    <span class="n">autoscale_down</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">evaluation_periods</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="p">}</span> 
<span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_kubernetes" /><a href="#integration_kubernetes"><code>integration_kubernetes</code></a> - (Optional) Describes the <a href="https://kubernetes.io/">Kubernetes</a> integration.</p>

<ul>
<li><a name="integration_mode" /><a href="#integration_mode"><code>integration_mode</code></a> - (Required) Valid values: <code>&quot;saas&quot;</code>, <code>&quot;pod&quot;</code>.
</li>
<li><a name="cluster_identifier" /><a href="#cluster_identifier"><code>cluster_identifier</code></a> - (Required; if using integration_mode as pod)
</li>
<li><a name="api_server" /><a href="#api_server"><code>api_server</code></a> - (Required; if using integration_mode as saas)
</li>
<li><a name="token" /><a href="#token"><code>token</code></a> - (Required; if using integration_mode as saas) Kubernetes Token
</li>
<li><a name="autoscale_is_enabled-2" /><a href="#autoscale_is_enabled-2"><code>autoscale_is_enabled</code></a> - (Optional, Default: <code>false</code>) Specifies whether the auto scaling feature is enabled.
</li>
<li><a name="autoscale_is_auto_config-1" /><a href="#autoscale_is_auto_config-1"><code>autoscale_is_auto_config</code></a> - (Optional, Default: <code>false</code>) Enabling the automatic k8s auto-scaler functionality. For more information please see: <a href="https://api.spotinst.com/integration-docs/elastigroup/container-management/kubernetes/autoscaler/">Kubernetes auto scaler</a>.
</li>
<li><a name="autoscale_cooldown-2" /><a href="#autoscale_cooldown-2"><code>autoscale_cooldown</code></a> - (Optional, Default: <code>300</code>) The amount of time, in seconds, after a scaling activity completes before any further trigger-related scaling activities can start.
</li>
<li><a name="autoscale_headroom-2" /><a href="#autoscale_headroom-2"><code>autoscale_headroom</code></a> - (Optional) An option to set compute reserve for the cluster.

<ul>
<li><a name="cpu_per_unit-2" /><a href="#cpu_per_unit-2"><code>cpu_per_unit</code></a> - (Optional, Default: <code>0</code>) How much CPU to allocate for headroom unit.
</li>
<li><a name="memory_per_unit-2" /><a href="#memory_per_unit-2"><code>memory_per_unit</code></a> - (Optional, Default: <code>0</code>) How much Memory allocate for headroom unit.
</li>
<li><a name="num_of_units-2" /><a href="#num_of_units-2"><code>num_of_units</code></a> - (Optional, Default: <code>0</code>) How many units to allocate for headroom unit.
</li>
</ul>
</li>
<li><a name="autoscale_down-2" /><a href="#autoscale_down-2"><code>autoscale_down</code></a> - (Optional) Setting for scale down actions.

<ul>
<li><a name="evaluation_periods-3" /><a href="#evaluation_periods-3"><code>evaluation_periods</code></a> - (Optional, Default: <code>5</code>) How many evaluation periods should accumulate before a scale down action takes place.
</li>
</ul>
</li>
<li><a name="autoscale_labels" /><a href="#autoscale_labels"><code>autoscale_labels</code></a> - (Optional) A key/value mapping of tags to assign to the resource.
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">integration_kubernetes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">integration_mode</span>   <span class="o">=</span> <span class="s2">"pod"</span>
    <span class="n">cluster_identifier</span> <span class="o">=</span> <span class="s2">"my-identifier.ek8s.com"</span>

    <span class="sr">//</span> <span class="o">===</span> <span class="no">SAAS</span> <span class="o">===================</span>
    <span class="c1"># integration_mode = "saas"</span>
    <span class="c1"># api_server       = "https://api.my-identifier.ek8s.com/api/v1/namespaces/kube-system/services/..."</span>
    <span class="c1"># token            = "top-secret"</span>
    <span class="sr">//</span> <span class="o">============================</span>

    <span class="n">autoscale_is_enabled</span>     <span class="o">=</span> <span class="kp">false</span>
    <span class="n">autoscale_is_auto_config</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="n">autoscale_cooldown</span>       <span class="o">=</span> <span class="mi">300</span>

    <span class="n">autoscale_headroom</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">cpu_per_unit</span>    <span class="o">=</span> <span class="mi">1024</span>
      <span class="n">memory_per_unit</span> <span class="o">=</span> <span class="mi">512</span>
      <span class="n">num_of_units</span>    <span class="o">=</span> <span class="mi">1</span>
    <span class="p">}</span>

    <span class="n">autoscale_down</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">evaluation_periods</span> <span class="o">=</span> <span class="mi">300</span>
    <span class="p">}</span>

    <span class="n">autoscale_labels</span> <span class="o">=</span> <span class="p">[{</span>
      <span class="n">key</span>   <span class="o">=</span> <span class="s2">"test.k8s.key"</span>
      <span class="n">value</span> <span class="o">=</span> <span class="s2">"test.k8s.value"</span>
    <span class="p">}]</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_nomad" /><a href="#integration_nomad"><code>integration_nomad</code></a> - (Optional) Describes the <a href="https://www.nomadproject.io/">Nomad</a> integration.</p>

<ul>
<li><a name="master_host-2" /><a href="#master_host-2"><code>master_host</code></a> - (Required) The URL for the Nomad master host.
</li>
<li><a name="master_port-1" /><a href="#master_port-1"><code>master_port</code></a> - (Required) The network port for the master host.
</li>
<li><a name="acl_token" /><a href="#acl_token"><code>acl_token</code></a> - (Required) Nomad ACL Token
</li>
<li><a name="autoscale_is_enabled-3" /><a href="#autoscale_is_enabled-3"><code>autoscale_is_enabled</code></a> - (Optional, Default: <code>false</code>) Specifies whether the auto scaling feature is enabled.
</li>
<li><a name="autoscale_cooldown-3" /><a href="#autoscale_cooldown-3"><code>autoscale_cooldown</code></a> - (Optional, Default: <code>300</code>) The amount of time, in seconds, after a scaling activity completes before any further trigger-related scaling activities can start.
</li>
<li><a name="autoscale_headroom-3" /><a href="#autoscale_headroom-3"><code>autoscale_headroom</code></a> - (Optional) An option to set compute reserve for the cluster.

<ul>
<li><a name="cpu_per_unit-3" /><a href="#cpu_per_unit-3"><code>cpu_per_unit</code></a> - (Optional, Default: <code>0</code>) How much CPU (MHz) to allocate for headroom unit.
</li>
<li><a name="memory_per_unit-3" /><a href="#memory_per_unit-3"><code>memory_per_unit</code></a> - (Optional, Default: <code>0</code>) How much Memory allocate for headroom unit.
</li>
<li><a name="num_of_units-3" /><a href="#num_of_units-3"><code>num_of_units</code></a> - (Optional, Default: <code>0</code>) How many units of headroom to allocate.
</li>
</ul>
</li>
<li><a name="autoscale_down-3" /><a href="#autoscale_down-3"><code>autoscale_down</code></a> - (Optional) Settings for scale down actions.

<ul>
<li><a name="evaluation_periods-4" /><a href="#evaluation_periods-4"><code>evaluation_periods</code></a> - (Optional, Default: <code>5</code>) How many evaluation periods should accumulate before a scale down action takes place.
</li>
</ul>
</li>
<li><a name="autoscale_constraints" /><a href="#autoscale_constraints"><code>autoscale_constraints</code></a> - (Optional) A key/value mapping of tags to assign to the resource.
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">integration_nomad</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">master_host</span>          <span class="o">=</span> <span class="s2">"my-nomad-host"</span>
    <span class="n">master_port</span>          <span class="o">=</span> <span class="mi">9000</span>
    <span class="n">acl_token</span>            <span class="o">=</span> <span class="s2">"top-secret"</span>
    <span class="n">autoscale_is_enabled</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="n">autoscale_cooldown</span>   <span class="o">=</span> <span class="mi">300</span>

    <span class="n">autoscale_headroom</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">cpu_per_unit</span>    <span class="o">=</span> <span class="mi">1024</span>
      <span class="n">memory_per_unit</span> <span class="o">=</span> <span class="mi">512</span>
      <span class="n">num_of_units</span>    <span class="o">=</span> <span class="mi">2</span>
    <span class="p">}</span>

    <span class="n">autoscale_down</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">evaluation_periods</span> <span class="o">=</span> <span class="mi">300</span>
    <span class="p">}</span>

    <span class="n">autoscale_constraints</span> <span class="o">=</span> <span class="p">[{</span>
      <span class="n">key</span>   <span class="o">=</span> <span class="s2">"test.nomad.key"</span>
      <span class="n">value</span> <span class="o">=</span> <span class="s2">"test.nomad.value"</span>
    <span class="p">}]</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_mesosphere" /><a href="#integration_mesosphere"><code>integration_mesosphere</code></a> - (Optional) Describes the <a href="https://mesosphere.com/">Mesosphere</a> integration.</p>

<ul>
<li><a name="api_server-1" /><a href="#api_server-1"><code>api_server</code></a> - (Optional) The public IP of the DC/OS Master. 
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">integration_mesosphere</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">api_server</span> <span class="o">=</span> <span class="s2">""</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_multai_runtime" /><a href="#integration_multai_runtime"><code>integration_multai_runtime</code></a> - (Optional) Describes the <a href="https://spotinst.com/">Multai Runtime</a> integration.</p>

<ul>
<li><a name="deployment_id" /><a href="#deployment_id"><code>deployment_id</code></a> - (Optional) The deployment id you want to get
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">integration_multai_runtime</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">deployment_id</span> <span class="o">=</span> <span class="s2">""</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li><p><a name="integration_gitlab" /><a href="#integration_gitlab"><code>integration_gitlab</code></a> - (Optional) Describes the <a href="https://api.spotinst.com/integration-docs/gitlab/">Gitlab</a> integration.</p>

<ul>
<li><a name="runner" /><a href="#runner"><code>runner</code></a> - (Optional) Settings for Gitlab runner. 

<ul>
<li><a name="is_enabled-1" /><a href="#is_enabled-1"><code>is_enabled</code></a> - (Optional, Default: <code>false</code>) Specifies whether the integration is enabled.
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">integration_gitlab</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">is_enabled</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div><p><a id="update-policy"></a></p>
<h2 id="update-policy">
  <a name="update-policy" class="anchor" href="#update-policy">&raquo;</a>
  Update Policy
</h2>

<ul>
<li><p><a name="update_policy" /><a href="#update_policy"><code>update_policy</code></a> - (Optional)</p>

<ul>
<li><a name="should_resume_stateful" /><a href="#should_resume_stateful"><code>should_resume_stateful</code></a> - (Required) This will apply resuming action for Stateful instances in the Elastigroup upon scale up or capacity changes. Example usage will be for Elastigroups that will have scheduling rules to set a target capacity of 0 instances in the night and automatically restore the same state of the instances in the morning.
</li>
<li><a name="should_roll" /><a href="#should_roll"><code>should_roll</code></a> - (Required) Sets the enablement of the roll option.
</li>
<li><a name="roll_config" /><a href="#roll_config"><code>roll_config</code></a> - (Required) While used, you can control whether the group should perform a deployment after an update to the configuration.

<ul>
<li><a name="batch_size_percentage-1" /><a href="#batch_size_percentage-1"><code>batch_size_percentage</code></a> - (Required) Sets the percentage of the instances to deploy in each batch.
</li>
<li><a name="health_check_type-2" /><a href="#health_check_type-2"><code>health_check_type</code></a> - (Optional) Sets the health check type to use. Valid values: <code>&quot;EC2&quot;</code>, <code>&quot;ECS_CLUSTER_INSTANCE&quot;</code>, <code>&quot;ELB&quot;</code>, <code>&quot;HCS&quot;</code>, <code>&quot;MLB&quot;</code>, <code>&quot;TARGET_GROUP&quot;</code>, <code>&quot;MULTAI_TARGET_SET&quot;</code>, <code>&quot;NONE&quot;</code>.
</li>
<li><a name="grace_period-1" /><a href="#grace_period-1"><code>grace_period</code></a> - (Optional) Sets the grace period for new instances to become healthy.
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre class="highlight hcl"><code>  <span class="n">update_policy</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">should_resume_stateful</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="n">should_roll</span>            <span class="o">=</span> <span class="kp">false</span>

    <span class="n">roll_config</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">batch_size_percentage</span> <span class="o">=</span> <span class="mi">33</span>
      <span class="n">health_check_type</span>     <span class="o">=</span> <span class="s2">"ELB"</span>
      <span class="n">grace_period</span>          <span class="o">=</span> <span class="mi">300</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div><h2 id="attributes-reference">
  <a name="attributes-reference" class="anchor" href="#attributes-reference">&raquo;</a>
  Attributes Reference
</h2>
<p>The following attributes are exported:</p>

<ul>
<li><a name="id" /><a href="#id"><code>id</code></a> - The group ID.
</li>
</ul>


    </div>
  </div>
</div>


    <div id="footer" class="navigation hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <ul class="footer-links nav navbar-nav">
              <li><a href="/intro/index.html">Intro</a></li>
              <li><a href="/docs/index.html">Docs</a></li>
              <li><a href="/docs/extend/index.html">Extend</a></li>
              <li><a href="https://www.hashicorp.com/privacy">Privacy</a></li>
              <li><a href="/security.html">Security</a></li>
              <li><a href="/assets/files/press-kit.zip">Press Kit</a></li>
            </ul>
            <ul class="footer-links nav navbar-nav navbar-right">
              <li><a href="https://github.com/hashicorp/terraform-website">Edit this page</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Product",
        "name": "Terraform",
        "alternateName": "Terraform by HashiCorp",
        "manufacturer": "HashiCorp",
        "url": "https://www.terraform.io",
        "logo": "https://www.terraform.io/assets/images/logo-hashicorp-3f10732f.svg",
        "sameAs": [
          "https://github.com/hashicorp/terraform"
        ]
      }
    </script>
  </body>
</html>
